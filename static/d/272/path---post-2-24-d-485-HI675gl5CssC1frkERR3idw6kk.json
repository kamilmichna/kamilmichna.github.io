{"data":{"markdownRemark":{"html":"<h1>Cześć</h1>\n<h2>W poprzednim wpisie stworzyliśmy sobie podstawowy layout naszej gry - teraz pora nadać mu trochę ruchu ;)</h2>\n<p>Stworzymy sobie zatem klasę, która pozwoli nam w prosty sposób wyrysowywać proste obiekty. Warto dodać że będę używał składni <strong>class</strong> - jeśli więc twoja przeglądarka jej nie obsługuje, zaktualizuj ją lub użyja narzędzia <strong>babel</strong>.</p>\n<h2>Klasa  obiektów</h2>\n<p>Klasa Element będzie przyjmować 4 argumenty - szerokość, wysokość, startowe koordynaty x i y naszego obiektu oraz jego kolor. Stworzymy ją w pliku script.js, którego używaliśmy w poprzednim wpisie. Na początku jednak zmodyfikujmy go nieco.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">\"use strict\"</span>\n<span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gameCanvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">use strict</code> pozwoli nam w łatwiejszy sposób wykrywac błedy naszego skryptu. Stwórzmy teraz zatem klasę <strong>Element</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">\"use strict\"</span>\n<span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gameCanvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Element</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span>height<span class=\"token punctuation\">,</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">,</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> width<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> height<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Jak widać jest to bardzo prosta składnia. Jeżeli nie znasz programowanie obiektowego w javascript, odsyłam do dokumentacji mdn: <a href=\"https://developer.mozilla.org/pl/docs/Web/JavaScript/Reference/Classes\">Link</a></p>\n<h3>Funkcja rysująca.</h3>\n<p>Teraz stworzymy sobie funkcje odpowiadającą za rysowanie odpowiednich obiektów na naszym canvas - nazwiemy ją po prostu <strong>draw</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    \n    ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> el<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">;</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Wykorzystajmy teraz ją w akcji , aby narysować czerwony kwadrat na naszym canvas.\nStwórzmy zatem instancję klasy <strong>Element</strong> i przekażmy do jej <strong>konstruktora</strong> odpowiednie parametry: <code class=\"language-text\">let square = new Element(100,100,200,100,&quot;red&quot;);</code>.\nNastępnie przekażmy obiekt do funkcji draw w ten sposób: <code class=\"language-text\">draw(square)</code></p>\n<p>Cały nasz kod powinien teraz wyglądać w ten sposób: </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token string\">\"use strict\"</span>\n<span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gameCanvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Element</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span>height<span class=\"token punctuation\">,</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">,</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> width<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> height<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    \n    ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> el<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">;</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>el<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> square <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Element</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Nasz canvas powinien teraz wyglądać w ten sposób:</p>\n<p><strong>W następnym wpisie stworzymy obiekt gracza którym możemy sterować za pomocą klawiszy.</strong></p>\n<h3>Dzięki za uwagę ;)</h3>","frontmatter":{"date":"February 01, 2019","path":"/Post2","title":"Gra w javascript #2: Rysowanie obiektów."}}},"pageContext":{}}