{"expireTime":9007200826686518000,"key":"transformer-remark-markdown-ast-88240fe818e2d6c72bfb2aa4b293ed34-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Template engines w Koa.js","position":{"start":{"line":1,"column":2,"offset":1},"end":{"line":1,"column":27,"offset":26},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":27,"offset":26},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Czym są template engines?.","position":{"start":{"line":3,"column":4,"offset":31},"end":{"line":3,"column":30,"offset":57},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":28},"end":{"line":3,"column":30,"offset":57},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Na to pytanie odpowiedziałem dokładniej w tym poście: ","position":{"start":{"line":5,"column":1,"offset":59},"end":{"line":5,"column":55,"offset":113},"indent":[]}},{"type":"link","title":null,"url":"https://kamilmichna.github.io/2019/1/koa3","children":[{"type":"text","value":"Link","position":{"start":{"line":5,"column":56,"offset":114},"end":{"line":5,"column":60,"offset":118},"indent":[]}}],"position":{"start":{"line":5,"column":55,"offset":113},"end":{"line":5,"column":104,"offset":162},"indent":[]}},{"type":"text","value":". W skrócie przypomnę jednak że tak zwane ","position":{"start":{"line":5,"column":104,"offset":162},"end":{"line":5,"column":146,"offset":204},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"template engines","position":{"start":{"line":5,"column":148,"offset":206},"end":{"line":5,"column":164,"offset":222},"indent":[]}}],"position":{"start":{"line":5,"column":146,"offset":204},"end":{"line":5,"column":166,"offset":224},"indent":[]}},{"type":"text","value":" to w dużym uproszczeniu często bardzo podobne składnią do ","position":{"start":{"line":5,"column":166,"offset":224},"end":{"line":5,"column":225,"offset":283},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"języka html","position":{"start":{"line":5,"column":227,"offset":285},"end":{"line":5,"column":238,"offset":296},"indent":[]}}],"position":{"start":{"line":5,"column":225,"offset":283},"end":{"line":5,"column":240,"offset":298},"indent":[]}},{"type":"text","value":" \"foremki\" które pozwalają w bardzo prosty sposób dostosować treść na naszej stronie do tego, co na przykład pobiera z bazy danych nasz serwer. Nie dzieje się to co prawda dynamicznie, jak przy użyciu ","position":{"start":{"line":5,"column":240,"offset":298},"end":{"line":5,"column":441,"offset":499},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"technologii AJAX","position":{"start":{"line":5,"column":443,"offset":501},"end":{"line":5,"column":459,"offset":517},"indent":[]}}],"position":{"start":{"line":5,"column":441,"offset":499},"end":{"line":5,"column":461,"offset":519},"indent":[]}},{"type":"text","value":" i pobieraniu danych na przykład z Api wystawianego przez nas serwer (czym również niebawem się zajmiemy). Dane z serwera wpływ na treść naszej strony mają tylko raz, przy jej wyrenderowaniu - czyli na przykład dane na stronie mogą zmienić się po odświeżeniu okna przeglądarki, ale nie stanie się to dynamicznie.","position":{"start":{"line":5,"column":461,"offset":519},"end":{"line":5,"column":773,"offset":831},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":59},"end":{"line":5,"column":773,"offset":831},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Zalety template engines","position":{"start":{"line":7,"column":4,"offset":836},"end":{"line":7,"column":27,"offset":859},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":833},"end":{"line":7,"column":27,"offset":859},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Przede wszystkim jest to najprostszy sposób na dostosowanie ","position":{"start":{"line":8,"column":1,"offset":860},"end":{"line":8,"column":61,"offset":920},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"treści strony","position":{"start":{"line":8,"column":63,"offset":922},"end":{"line":8,"column":76,"offset":935},"indent":[]}}],"position":{"start":{"line":8,"column":61,"offset":920},"end":{"line":8,"column":78,"offset":937},"indent":[]}},{"type":"text","value":" do danych z serwera. Dzisiaj stworzymy sobie bardzo prosty przykład i przekażemy naszej stronie ","position":{"start":{"line":8,"column":78,"offset":937},"end":{"line":8,"column":175,"offset":1034},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"odrobinę tekstu z serwera","position":{"start":{"line":8,"column":177,"offset":1036},"end":{"line":8,"column":202,"offset":1061},"indent":[]}}],"position":{"start":{"line":8,"column":175,"offset":1034},"end":{"line":8,"column":204,"offset":1063},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":860},"end":{"line":8,"column":204,"offset":1063},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Do dzieła!","position":{"start":{"line":10,"column":3,"offset":1067},"end":{"line":10,"column":13,"offset":1077},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":1065},"end":{"line":10,"column":13,"offset":1077},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Wybór i instalacja template engine","position":{"start":{"line":12,"column":4,"offset":1082},"end":{"line":12,"column":38,"offset":1116},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":1079},"end":{"line":12,"column":38,"offset":1116},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Podobnie jak w przypadku starszego brata Koa.js czyli ","position":{"start":{"line":14,"column":1,"offset":1118},"end":{"line":14,"column":55,"offset":1172},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Express.js","position":{"start":{"line":14,"column":57,"offset":1174},"end":{"line":14,"column":67,"offset":1184},"indent":[]}}],"position":{"start":{"line":14,"column":55,"offset":1172},"end":{"line":14,"column":69,"offset":1186},"indent":[]}},{"type":"text","value":" do wyboru mamy ich całkiem sporo. Wymieniłem już wcześniej kilka z najpopularniejszych w poście w których omówiłem czym dokładnie są ","position":{"start":{"line":14,"column":69,"offset":1186},"end":{"line":14,"column":203,"offset":1320},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"template engines","position":{"start":{"line":14,"column":205,"offset":1322},"end":{"line":14,"column":221,"offset":1338},"indent":[]}}],"position":{"start":{"line":14,"column":203,"offset":1320},"end":{"line":14,"column":223,"offset":1340},"indent":[]}},{"type":"text","value":". Większość z nich oferuje bardzo podobną funkcjonalność i wybór odpowiedniego dla nas sprowadza się głównie do własnych preferencji, lub tego który silnik jest aktualnie używany w projekcie do którego chcemy dołączyć.","position":{"start":{"line":14,"column":223,"offset":1340},"end":{"line":14,"column":441,"offset":1558},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":1118},"end":{"line":14,"column":441,"offset":1558},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Na początku zainstalujmy niezbędny pakiet.","position":{"start":{"line":16,"column":4,"offset":1563},"end":{"line":16,"column":46,"offset":1605},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1560},"end":{"line":16,"column":46,"offset":1605},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Nasz ","position":{"start":{"line":18,"column":1,"offset":1607},"end":{"line":18,"column":6,"offset":1612},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"template rendering","position":{"start":{"line":18,"column":8,"offset":1614},"end":{"line":18,"column":26,"offset":1632},"indent":[]}}],"position":{"start":{"line":18,"column":6,"offset":1612},"end":{"line":18,"column":28,"offset":1634},"indent":[]}},{"type":"text","value":" zaimplementujemy do przykładu który stworzyliśmy w poprzednim poście: ","position":{"start":{"line":18,"column":28,"offset":1634},"end":{"line":18,"column":99,"offset":1705},"indent":[]}},{"type":"link","title":null,"url":"https://kamilmichna.github.io/2019/1/koa4","children":[{"type":"text","value":"Link","position":{"start":{"line":18,"column":100,"offset":1706},"end":{"line":18,"column":104,"offset":1710},"indent":[]}}],"position":{"start":{"line":18,"column":99,"offset":1705},"end":{"line":18,"column":148,"offset":1754},"indent":[]}},{"type":"text","value":". Musimy doinstalować tam dwie niezbędne paczki. Pierwszą z nich będzie ","position":{"start":{"line":18,"column":148,"offset":1754},"end":{"line":18,"column":220,"offset":1826},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"koa_views","position":{"start":{"line":18,"column":222,"offset":1828},"end":{"line":18,"column":231,"offset":1837},"indent":[]}}],"position":{"start":{"line":18,"column":220,"offset":1826},"end":{"line":18,"column":233,"offset":1839},"indent":[]}},{"type":"text","value":", która pozwala nam na implementację ","position":{"start":{"line":18,"column":233,"offset":1839},"end":{"line":18,"column":270,"offset":1876},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"template_renderingu","position":{"start":{"line":18,"column":272,"offset":1878},"end":{"line":18,"column":291,"offset":1897},"indent":[]}}],"position":{"start":{"line":18,"column":270,"offset":1876},"end":{"line":18,"column":293,"offset":1899},"indent":[]}},{"type":"text","value":", a drugą będzie już paczka adekwatna do języka w którym będziemy pisać nasze szablony, ja wybrałem ","position":{"start":{"line":18,"column":293,"offset":1899},"end":{"line":18,"column":393,"offset":1999},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"pug","position":{"start":{"line":18,"column":395,"offset":2001},"end":{"line":18,"column":398,"offset":2004},"indent":[]}}],"position":{"start":{"line":18,"column":393,"offset":1999},"end":{"line":18,"column":400,"offset":2006},"indent":[]}},{"type":"text","value":".\nZainstalujmy więc paczkę ","position":{"start":{"line":18,"column":400,"offset":2006},"end":{"line":19,"column":26,"offset":2033},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"koa_views","position":{"start":{"line":19,"column":28,"offset":2035},"end":{"line":19,"column":37,"offset":2044},"indent":[]}}],"position":{"start":{"line":19,"column":26,"offset":2033},"end":{"line":19,"column":39,"offset":2046},"indent":[]}},{"type":"text","value":": ","position":{"start":{"line":19,"column":39,"offset":2046},"end":{"line":19,"column":41,"offset":2048},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1607},"end":{"line":19,"column":41,"offset":2048},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install koa-views </code></pre></div>","position":{"start":{"line":20,"column":1,"offset":2049},"end":{"line":22,"column":4,"offset":2079},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A teraz paczkę ","position":{"start":{"line":23,"column":1,"offset":2080},"end":{"line":23,"column":16,"offset":2095},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"pug","position":{"start":{"line":23,"column":18,"offset":2097},"end":{"line":23,"column":21,"offset":2100},"indent":[]}}],"position":{"start":{"line":23,"column":16,"offset":2095},"end":{"line":23,"column":23,"offset":2102},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":23,"column":23,"offset":2102},"end":{"line":23,"column":24,"offset":2103},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":2080},"end":{"line":23,"column":24,"offset":2103},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install pug</code></pre></div>","position":{"start":{"line":24,"column":1,"offset":2104},"end":{"line":27,"column":4,"offset":2128},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Teraz zmieńmy trochę nasz plik ","position":{"start":{"line":29,"column":1,"offset":2130},"end":{"line":29,"column":32,"offset":2161},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"main.js","position":{"start":{"line":29,"column":34,"offset":2163},"end":{"line":29,"column":41,"offset":2170},"indent":[]}}],"position":{"start":{"line":29,"column":32,"offset":2161},"end":{"line":29,"column":43,"offset":2172},"indent":[]}},{"type":"text","value":" z poprzedniego poradnika","position":{"start":{"line":29,"column":43,"offset":2172},"end":{"line":29,"column":68,"offset":2197},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2130},"end":{"line":29,"column":68,"offset":2197},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//main.js</span>\n<span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"koa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./router'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//1</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//2</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">views</span><span class=\"token punctuation\">(</span>__dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/views'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    map<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        extension<span class=\"token punctuation\">:</span> <span class=\"token string\">'pug'</span> \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </code></pre></div>","position":{"start":{"line":31,"column":1,"offset":2199},"end":{"line":50,"column":4,"offset":2497},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Na początku zajmijmy się punktem ","position":{"start":{"line":51,"column":1,"offset":2498},"end":{"line":51,"column":34,"offset":2531},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"numer 1","position":{"start":{"line":51,"column":36,"offset":2533},"end":{"line":51,"column":43,"offset":2540},"indent":[]}}],"position":{"start":{"line":51,"column":34,"offset":2531},"end":{"line":51,"column":45,"offset":2542},"indent":[]}},{"type":"text","value":". ","position":{"start":{"line":51,"column":45,"offset":2542},"end":{"line":51,"column":47,"offset":2544},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">const views = require(&#39;koa-views&#39;);</code>","position":{"start":{"line":51,"column":47,"offset":2544},"end":{"line":51,"column":84,"offset":2581},"indent":[]}},{"type":"text","value":" po prostu przypisuje nam do stałej views wcześniej zaimportowaną paczkę ","position":{"start":{"line":51,"column":84,"offset":2581},"end":{"line":51,"column":157,"offset":2654},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"koa-views","position":{"start":{"line":51,"column":159,"offset":2656},"end":{"line":51,"column":168,"offset":2665},"indent":[]}}],"position":{"start":{"line":51,"column":157,"offset":2654},"end":{"line":51,"column":170,"offset":2667},"indent":[]}},{"type":"text","value":", co pozwoli nam w prosty sposób jej użyć. Ciekawiej natomiast robi się przy bloku kodu oznaczonym komentarzem ","position":{"start":{"line":51,"column":170,"offset":2667},"end":{"line":51,"column":281,"offset":2778},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"2","position":{"start":{"line":51,"column":283,"offset":2780},"end":{"line":51,"column":284,"offset":2781},"indent":[]}}],"position":{"start":{"line":51,"column":281,"offset":2778},"end":{"line":51,"column":286,"offset":2783},"indent":[]}},{"type":"text","value":", rozłózmy go więc na czynniki pierwsze.","position":{"start":{"line":51,"column":286,"offset":2783},"end":{"line":51,"column":326,"offset":2823},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2498},"end":{"line":51,"column":326,"offset":2823},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Składnia ","position":{"start":{"line":53,"column":1,"offset":2825},"end":{"line":53,"column":10,"offset":2834},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"app.use","position":{"start":{"line":53,"column":12,"offset":2836},"end":{"line":53,"column":19,"offset":2843},"indent":[]}}],"position":{"start":{"line":53,"column":10,"offset":2834},"end":{"line":53,"column":21,"offset":2845},"indent":[]}},{"type":"text","value":" przywodzi nam (i słusznie) znane już z poprzednich poradników ","position":{"start":{"line":53,"column":21,"offset":2845},"end":{"line":53,"column":84,"offset":2908},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"middleware","position":{"start":{"line":53,"column":86,"offset":2910},"end":{"line":53,"column":96,"offset":2920},"indent":[]}}],"position":{"start":{"line":53,"column":84,"offset":2908},"end":{"line":53,"column":98,"offset":2922},"indent":[]}},{"type":"text","value":", tym razem nie służy nam ono do routingu aplikacji a właśnie do konfiguracji renderowania naszych templatek. Wiem że brzmi to trochę skomplikowanie, przyjrzyjmy mu się więc z bliska. Argumentem funkcji ","position":{"start":{"line":53,"column":98,"offset":2922},"end":{"line":53,"column":301,"offset":3125},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"app.use","position":{"start":{"line":53,"column":303,"offset":3127},"end":{"line":53,"column":310,"offset":3134},"indent":[]}}],"position":{"start":{"line":53,"column":301,"offset":3125},"end":{"line":53,"column":312,"offset":3136},"indent":[]}},{"type":"text","value":" jest ","position":{"start":{"line":53,"column":312,"offset":3136},"end":{"line":53,"column":318,"offset":3142},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2825},"end":{"line":53,"column":318,"offset":3142},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">views</span><span class=\"token punctuation\">(</span>__dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/views'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    map<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        extension<span class=\"token punctuation\">:</span> <span class=\"token string\">'pug'</span> \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":54,"column":1,"offset":3143},"end":{"line":61,"column":4,"offset":3241},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"fragment ","position":{"start":{"line":62,"column":1,"offset":3242},"end":{"line":62,"column":10,"offset":3251},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">__dirname + &#39;/views&#39;</code>","position":{"start":{"line":62,"column":10,"offset":3251},"end":{"line":62,"column":32,"offset":3273},"indent":[]}},{"type":"text","value":" mówi nam, że nasze templatki powinny znajdować się w folderze ","position":{"start":{"line":62,"column":32,"offset":3273},"end":{"line":62,"column":95,"offset":3336},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"views","position":{"start":{"line":62,"column":97,"offset":3338},"end":{"line":62,"column":102,"offset":3343},"indent":[]}}],"position":{"start":{"line":62,"column":95,"offset":3336},"end":{"line":62,"column":104,"offset":3345},"indent":[]}},{"type":"text","value":" w tym katalogu co nasz plik ","position":{"start":{"line":62,"column":104,"offset":3345},"end":{"line":62,"column":133,"offset":3374},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"main.js","position":{"start":{"line":62,"column":135,"offset":3376},"end":{"line":62,"column":142,"offset":3383},"indent":[]}}],"position":{"start":{"line":62,"column":133,"offset":3374},"end":{"line":62,"column":144,"offset":3385},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":62,"column":144,"offset":3385},"end":{"line":62,"column":145,"offset":3386},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3242},"end":{"line":62,"column":145,"offset":3386},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Obiekt ","position":{"start":{"line":64,"column":1,"offset":3388},"end":{"line":64,"column":8,"offset":3395},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":3388},"end":{"line":64,"column":8,"offset":3395},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n    map: {\n        extension: &#39;pug&#39; \n    }\n}</code></pre></div>","position":{"start":{"line":65,"column":1,"offset":3396},"end":{"line":72,"column":4,"offset":3451},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"i jego właściwość ","position":{"start":{"line":73,"column":1,"offset":3452},"end":{"line":73,"column":19,"offset":3470},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"extension","position":{"start":{"line":73,"column":21,"offset":3472},"end":{"line":73,"column":30,"offset":3481},"indent":[]}}],"position":{"start":{"line":73,"column":19,"offset":3470},"end":{"line":73,"column":32,"offset":3483},"indent":[]}},{"type":"text","value":" mówi nam o tym, jakiego template engine użyjemy. Jak już wspomniałem, u mnie jest to ","position":{"start":{"line":73,"column":32,"offset":3483},"end":{"line":73,"column":118,"offset":3569},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"pug","position":{"start":{"line":73,"column":120,"offset":3571},"end":{"line":73,"column":123,"offset":3574},"indent":[]}}],"position":{"start":{"line":73,"column":118,"offset":3569},"end":{"line":73,"column":125,"offset":3576},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":73,"column":125,"offset":3576},"end":{"line":73,"column":126,"offset":3577},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3452},"end":{"line":73,"column":126,"offset":3577},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Następnie stwórzymy wspomniany wcześniej folder ","position":{"start":{"line":75,"column":1,"offset":3579},"end":{"line":75,"column":49,"offset":3627},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"views","position":{"start":{"line":75,"column":51,"offset":3629},"end":{"line":75,"column":56,"offset":3634},"indent":[]}}],"position":{"start":{"line":75,"column":49,"offset":3627},"end":{"line":75,"column":58,"offset":3636},"indent":[]}},{"type":"text","value":", a w nim plik site.pug.\nNie będę w tym poradniku omawiał składni poszczególnych ","position":{"start":{"line":75,"column":58,"offset":3636},"end":{"line":76,"column":57,"offset":3717},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"template languages","position":{"start":{"line":76,"column":59,"offset":3719},"end":{"line":76,"column":77,"offset":3737},"indent":[]}}],"position":{"start":{"line":76,"column":57,"offset":3717},"end":{"line":76,"column":79,"offset":3739},"indent":[]}},{"type":"text","value":", umieszczę jedynie tekst naszego pliku site.pug","position":{"start":{"line":76,"column":79,"offset":3739},"end":{"line":76,"column":127,"offset":3787},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":3579},"end":{"line":76,"column":127,"offset":3787},"indent":[1]}},{"type":"html","lang":"pug","value":"<div class=\"gatsby-highlight\" data-language=\"pug\"><pre class=\"language-pug\"><code class=\"language-pug\"><span class=\"token comment\">//site.pug</span>\n<span class=\"token tag\">html</span>\n    <span class=\"token tag\">head</span>\n        <span class=\"token tag\">title</span><span class=\"token punctuation\">=</span><span class=\"token code\">title</span>\n    <span class=\"token tag\">body</span>\n        <span class=\"token tag\">h1</span><span class=\"token punctuation\">=</span><span class=\"token code\">content</span></code></pre></div>","position":{"start":{"line":77,"column":1,"offset":3788},"end":{"line":85,"column":4,"offset":3872},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Jak widać, struktura jest dosyć podobna do ","position":{"start":{"line":86,"column":1,"offset":3873},"end":{"line":86,"column":44,"offset":3916},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"czystego html","position":{"start":{"line":86,"column":46,"offset":3918},"end":{"line":86,"column":59,"offset":3931},"indent":[]}}],"position":{"start":{"line":86,"column":44,"offset":3916},"end":{"line":86,"column":61,"offset":3933},"indent":[]}},{"type":"text","value":", zaobserwować można tutaj również ","position":{"start":{"line":86,"column":61,"offset":3933},"end":{"line":86,"column":96,"offset":3968},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"zmienne","position":{"start":{"line":86,"column":98,"offset":3970},"end":{"line":86,"column":105,"offset":3977},"indent":[]}}],"position":{"start":{"line":86,"column":96,"offset":3968},"end":{"line":86,"column":107,"offset":3979},"indent":[]}},{"type":"text","value":" title oraz ","position":{"start":{"line":86,"column":107,"offset":3979},"end":{"line":86,"column":119,"offset":3991},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"content","position":{"start":{"line":86,"column":121,"offset":3993},"end":{"line":86,"column":128,"offset":4000},"indent":[]}}],"position":{"start":{"line":86,"column":119,"offset":3991},"end":{"line":86,"column":130,"offset":4002},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":86,"column":130,"offset":4002},"end":{"line":86,"column":131,"offset":4003},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":3873},"end":{"line":86,"column":131,"offset":4003},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Przekazywanie danych i renderowanie.","position":{"start":{"line":89,"column":4,"offset":4009},"end":{"line":89,"column":40,"offset":4045},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":4006},"end":{"line":89,"column":40,"offset":4045},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Jako że chcemy aby nasza strona w zależności od ścieżki miała różną treść, definicje poszczególnych renderów naszej aplikacji zdefiniujemy w pliku ","position":{"start":{"line":90,"column":1,"offset":4046},"end":{"line":90,"column":148,"offset":4193},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"router.js","position":{"start":{"line":90,"column":150,"offset":4195},"end":{"line":90,"column":159,"offset":4204},"indent":[]}}],"position":{"start":{"line":90,"column":148,"offset":4193},"end":{"line":90,"column":161,"offset":4206},"indent":[]}},{"type":"text","value":" - tym samym który grał główne skrzypce w naszym poprzednim wpisie.","position":{"start":{"line":90,"column":161,"offset":4206},"end":{"line":90,"column":228,"offset":4273},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":4046},"end":{"line":90,"column":228,"offset":4273},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//router.js</span>\n<span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\nrouter\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/hello'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"site.pug\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span><span class=\"token string\">\"Hello Page\"</span><span class=\"token punctuation\">,</span>content<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Witaj na podstronie /hello\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"site.pug\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span><span class=\"token string\">\"Hello Page\"</span><span class=\"token punctuation\">,</span>content<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Witaj na podstronie /\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router</code></pre></div>","position":{"start":{"line":92,"column":1,"offset":4275},"end":{"line":110,"column":4,"offset":4704},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"po pierwsze, na samej górze dodaliśmy podobnie jak w ","position":{"start":{"line":111,"column":1,"offset":4705},"end":{"line":111,"column":54,"offset":4758},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"main.js","position":{"start":{"line":111,"column":56,"offset":4760},"end":{"line":111,"column":63,"offset":4767},"indent":[]}}],"position":{"start":{"line":111,"column":54,"offset":4758},"end":{"line":111,"column":65,"offset":4769},"indent":[]}},{"type":"text","value":" kolejny import - czyli nasze ","position":{"start":{"line":111,"column":65,"offset":4769},"end":{"line":111,"column":95,"offset":4799},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"koa-views","position":{"start":{"line":111,"column":97,"offset":4801},"end":{"line":111,"column":106,"offset":4810},"indent":[]}}],"position":{"start":{"line":111,"column":95,"offset":4799},"end":{"line":111,"column":108,"offset":4812},"indent":[]}},{"type":"text","value":". Pozwoli nam to użyć tutaj ","position":{"start":{"line":111,"column":108,"offset":4812},"end":{"line":111,"column":136,"offset":4840},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ctx.render","position":{"start":{"line":111,"column":138,"offset":4842},"end":{"line":111,"column":148,"offset":4852},"indent":[]}}],"position":{"start":{"line":111,"column":136,"offset":4840},"end":{"line":111,"column":150,"offset":4854},"indent":[]}},{"type":"text","value":" które pozwala wyrenderować nasz plik w ","position":{"start":{"line":111,"column":150,"offset":4854},"end":{"line":111,"column":190,"offset":4894},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"template language","position":{"start":{"line":111,"column":192,"offset":4896},"end":{"line":111,"column":209,"offset":4913},"indent":[]}}],"position":{"start":{"line":111,"column":190,"offset":4894},"end":{"line":111,"column":211,"offset":4915},"indent":[]}},{"type":"text","value":". Jako argument funkcji ","position":{"start":{"line":111,"column":211,"offset":4915},"end":{"line":111,"column":235,"offset":4939},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ctx.render","position":{"start":{"line":111,"column":237,"offset":4941},"end":{"line":111,"column":247,"offset":4951},"indent":[]}}],"position":{"start":{"line":111,"column":235,"offset":4939},"end":{"line":111,"column":249,"offset":4953},"indent":[]}},{"type":"text","value":" podajemy nazwę pliku wraz z rozszerzeniem - w tym przypadku ","position":{"start":{"line":111,"column":249,"offset":4953},"end":{"line":111,"column":310,"offset":5014},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"pug","position":{"start":{"line":111,"column":312,"offset":5016},"end":{"line":111,"column":315,"offset":5019},"indent":[]}}],"position":{"start":{"line":111,"column":310,"offset":5014},"end":{"line":111,"column":317,"offset":5021},"indent":[]}},{"type":"text","value":", a następnie obiekt w którym definiujemy nasze zmienne. Po ponownym odpaleniu naszego serwera w koa pod odpowiednimi adresami w przeglądarce powinniśmy ujrzeć nasze ","position":{"start":{"line":111,"column":317,"offset":5021},"end":{"line":111,"column":483,"offset":5187},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"templatki","position":{"start":{"line":111,"column":485,"offset":5189},"end":{"line":111,"column":494,"offset":5198},"indent":[]}}],"position":{"start":{"line":111,"column":483,"offset":5187},"end":{"line":111,"column":496,"offset":5200},"indent":[]}},{"type":"text","value":" uzupełnione o podane przez nas dane.","position":{"start":{"line":111,"column":496,"offset":5200},"end":{"line":111,"column":533,"offset":5237},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":4705},"end":{"line":111,"column":533,"offset":5237},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Dzięki za uwagę! ;)","position":{"start":{"line":113,"column":5,"offset":5243},"end":{"line":113,"column":24,"offset":5262},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":5239},"end":{"line":113,"column":24,"offset":5262},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":113,"column":24,"offset":5262}}}}