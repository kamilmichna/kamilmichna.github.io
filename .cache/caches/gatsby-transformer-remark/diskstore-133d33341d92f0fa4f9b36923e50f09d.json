{"expireTime":9007200826686518000,"key":"transformer-remark-markdown-html-ast-45f20cab5418c57849a97ad69fe8e657-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Podstawowe REST Api.","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":23,"offset":22}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":23,"offset":22}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dzisiejszy tytuł jest nieco zwodniczy - co prawda nie będziemy korzystać z KOA, ale nauczymy się jak odpytać Api o dane, co przyda nam się w następnych postach.","position":{"start":{"line":2,"column":1,"offset":23},"end":{"line":2,"column":161,"offset":183}}}],"position":{"start":{"line":2,"column":1,"offset":23},"end":{"line":2,"column":161,"offset":183}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Czym jest REST Api?","position":{"start":{"line":5,"column":4,"offset":189},"end":{"line":5,"column":23,"offset":208}}}],"position":{"start":{"line":5,"column":1,"offset":186},"end":{"line":5,"column":23,"offset":208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"REST Api, to w dużym skrócie taki interfejs w napisanym przez nas oprogramowaniu, który pozwala pobierać innym aplikacjom kluczowe do ich działania dane.","position":{"start":{"line":7,"column":1,"offset":210},"end":{"line":7,"column":154,"offset":363}}}],"position":{"start":{"line":7,"column":1,"offset":210},"end":{"line":7,"column":154,"offset":363}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Po co mi REST Api skoro umiem przekazywać dane do strony w Koa?","position":{"start":{"line":9,"column":4,"offset":368},"end":{"line":9,"column":67,"offset":431}}}],"position":{"start":{"line":9,"column":1,"offset":365},"end":{"line":9,"column":67,"offset":431}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Przewagi REST Api nad powyższym rozwiązaniem są dwie - chociaż oba rozwiązania są dobre, REST Api pozwala nam po pierwsze pobierać dane bez potrzeby przeładowywania naszej strony, a po drugie na korzystanie z naszych danych przez wiele aplikacji. Może teraz wydaje się to dla Ciebie lekko abstrakcyjne - w końcu interesuje nas napisanie funkcjonalnego serwera w ","position":{"start":{"line":11,"column":1,"offset":433},"end":{"line":11,"column":363,"offset":795}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Koa","position":{"start":{"line":11,"column":365,"offset":797},"end":{"line":11,"column":368,"offset":800}}}],"position":{"start":{"line":11,"column":363,"offset":795},"end":{"line":11,"column":370,"offset":802}}},{"type":"text","value":", a nie ","position":{"start":{"line":11,"column":370,"offset":802},"end":{"line":11,"column":378,"offset":810}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"kilku","position":{"start":{"line":11,"column":380,"offset":812},"end":{"line":11,"column":385,"offset":817}}}],"position":{"start":{"line":11,"column":378,"offset":810},"end":{"line":11,"column":387,"offset":819}}},{"type":"text","value":" aplikacji, i to jeszcze zapewne w różnych językach, ale wyobraź sobie taki przykład: razem z zespołem programistów zakładacie startup - nowy, rewolucyjny portal społecznościowy. Odpowiadasz w nim właśnie za ","position":{"start":{"line":11,"column":387,"offset":819},"end":{"line":11,"column":595,"offset":1027}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"backend","position":{"start":{"line":11,"column":597,"offset":1029},"end":{"line":11,"column":604,"offset":1036}}}],"position":{"start":{"line":11,"column":595,"offset":1027},"end":{"line":11,"column":606,"offset":1038}}},{"type":"text","value":", czyli serwer w ","position":{"start":{"line":11,"column":606,"offset":1038},"end":{"line":11,"column":623,"offset":1055}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"koa","position":{"start":{"line":11,"column":625,"offset":1057},"end":{"line":11,"column":628,"offset":1060}}}],"position":{"start":{"line":11,"column":623,"offset":1055},"end":{"line":11,"column":630,"offset":1062}}},{"type":"text","value":" oraz bazę danych zawierającą na przykład informacje o użytkownikach - ich imiona, nazwiska, maile, wpisy. Sposób który już znamy - przekazywanie informacji do pliku przy renderowaniu sprawdził by się - serwer pobierze dane o użytkowniku, a następnie wyrenderuje template strony uzupełniając go odpowiednimi informacjami. Problem zaczyna się jednak, gdy oprócz aplikacji webowej, osoby w twoim zespole piszą także aplikacje na przykład na ","position":{"start":{"line":11,"column":630,"offset":1062},"end":{"line":11,"column":1069,"offset":1501}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Androida w języku JAVA, aplikację na Ios w języku Swift, oraz aplikację natywną na system Windows w języku C#","position":{"start":{"line":11,"column":1071,"offset":1503},"end":{"line":11,"column":1180,"offset":1612}}}],"position":{"start":{"line":11,"column":1069,"offset":1501},"end":{"line":11,"column":1182,"offset":1614}}},{"type":"text","value":". W jaki sposób mają oni uzyskać dane? Właśnie przez REST Api, które ","position":{"start":{"line":11,"column":1182,"offset":1614},"end":{"line":11,"column":1251,"offset":1683}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Ty","position":{"start":{"line":11,"column":1253,"offset":1685},"end":{"line":11,"column":1255,"offset":1687}}}],"position":{"start":{"line":11,"column":1251,"offset":1683},"end":{"line":11,"column":1257,"offset":1689}}},{"type":"text","value":" stworzysz. Aby nie narobić bałaganu, także klient przeglądarkowy - czyli strona powinna pobierać dane właśnie z Api, a nie poprzez dane przekazywane przy renderowaniu.","position":{"start":{"line":11,"column":1257,"offset":1689},"end":{"line":11,"column":1425,"offset":1857}}}],"position":{"start":{"line":11,"column":1,"offset":433},"end":{"line":11,"column":1425,"offset":1857}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Do dzieła!","position":{"start":{"line":13,"column":4,"offset":1862},"end":{"line":13,"column":14,"offset":1872}}}],"position":{"start":{"line":13,"column":1,"offset":1859},"end":{"line":13,"column":14,"offset":1872}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Stwórzymy sobie prostą stronę ","position":{"start":{"line":15,"column":1,"offset":1874},"end":{"line":15,"column":31,"offset":1904}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":".html","position":{"start":{"line":15,"column":33,"offset":1906},"end":{"line":15,"column":38,"offset":1911}}}],"position":{"start":{"line":15,"column":31,"offset":1904},"end":{"line":15,"column":40,"offset":1913}}},{"type":"text","value":" w dowolnym wybranym przez ciebie miejscu na dysku. Większość naszych zapytań będzie się opierać na ","position":{"start":{"line":15,"column":40,"offset":1913},"end":{"line":15,"column":140,"offset":2013}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"javascriptcie","position":{"start":{"line":15,"column":142,"offset":2015},"end":{"line":15,"column":155,"offset":2028}}}],"position":{"start":{"line":15,"column":140,"offset":2013},"end":{"line":15,"column":157,"offset":2030}}},{"type":"text","value":", więc po prostu wklejmy do naszego pliku taki kod:","position":{"start":{"line":15,"column":157,"offset":2030},"end":{"line":15,"column":208,"offset":2081}}}],"position":{"start":{"line":15,"column":1,"offset":1874},"end":{"line":15,"column":208,"offset":2081}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ie=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Działa!\"</span><span class=\"token punctuation\">)</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":16,"column":1,"offset":2082},"end":{"line":34,"column":4,"offset":2407}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"a następnie otwórz w przeglądarce. Jeśli wyświetli ona komunikat o treści ","position":{"start":{"line":35,"column":1,"offset":2408},"end":{"line":35,"column":75,"offset":2482}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Działa!","position":{"start":{"line":35,"column":77,"offset":2484},"end":{"line":35,"column":84,"offset":2491}}}],"position":{"start":{"line":35,"column":75,"offset":2482},"end":{"line":35,"column":86,"offset":2493}}},{"type":"text","value":" to wszystko idzie po naszej myśli.","position":{"start":{"line":35,"column":86,"offset":2493},"end":{"line":35,"column":121,"offset":2528}}}],"position":{"start":{"line":35,"column":1,"offset":2408},"end":{"line":35,"column":121,"offset":2528}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Zapytanie do api.","position":{"start":{"line":37,"column":4,"offset":2533},"end":{"line":37,"column":21,"offset":2550}}}],"position":{"start":{"line":37,"column":1,"offset":2530},"end":{"line":37,"column":21,"offset":2550}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Wykorzystajmy, w ramach testu darmowe api dostępne w internecie. Zawiera ono podobnie jak nasz przykład, listę użytkowników, wraz z danymi o nich. Aby odpytać nasze REST Api, użyjemy ","position":{"start":{"line":38,"column":1,"offset":2551},"end":{"line":38,"column":184,"offset":2734}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"fetch Api","position":{"start":{"line":38,"column":186,"offset":2736},"end":{"line":38,"column":195,"offset":2745}}}],"position":{"start":{"line":38,"column":184,"offset":2734},"end":{"line":38,"column":197,"offset":2747}}},{"type":"text","value":" w javascript. Kod który będę teraz pisał, musi znajdować się w tagu ","position":{"start":{"line":38,"column":197,"offset":2747},"end":{"line":38,"column":266,"offset":2816}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"script","position":{"start":{"line":38,"column":268,"offset":2818},"end":{"line":38,"column":274,"offset":2824}}}],"position":{"start":{"line":38,"column":266,"offset":2816},"end":{"line":38,"column":276,"offset":2826}}},{"type":"text","value":", tam gdzie nasz alert (który możesz już usunąć).","position":{"start":{"line":38,"column":276,"offset":2826},"end":{"line":38,"column":325,"offset":2875}}}],"position":{"start":{"line":38,"column":1,"offset":2551},"end":{"line":38,"column":325,"offset":2875}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url <span class=\"token keyword\">do</span> naszego api<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":40,"column":1,"offset":2877},"end":{"line":44,"column":4,"offset":2922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"jako url użyjemy ","position":{"start":{"line":45,"column":1,"offset":2923},"end":{"line":45,"column":18,"offset":2940}}},{"type":"raw","value":"<code class=\"language-text\">https://jsonplaceholder.typicode.com/users</code>","position":{"start":{"line":45,"column":18,"offset":2940},"end":{"line":45,"column":62,"offset":2984}}},{"type":"text","value":", ponieważ właśnie spod tego adresu mozemy pobrać dane o naszych użytkownikach. Zwróci nam to obiekt ","position":{"start":{"line":45,"column":62,"offset":2984},"end":{"line":45,"column":163,"offset":3085}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Promise","position":{"start":{"line":45,"column":165,"offset":3087},"end":{"line":45,"column":172,"offset":3094}}}],"position":{"start":{"line":45,"column":163,"offset":3085},"end":{"line":45,"column":174,"offset":3096}}},{"type":"text","value":", a więc następnie użyjemy ","position":{"start":{"line":45,"column":174,"offset":3096},"end":{"line":45,"column":201,"offset":3123}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"then","position":{"start":{"line":45,"column":203,"offset":3125},"end":{"line":45,"column":207,"offset":3129}}}],"position":{"start":{"line":45,"column":201,"offset":3123},"end":{"line":45,"column":209,"offset":3131}}},{"type":"text","value":", gdzie wykorzystamy specjalną funkcję która przekonwertuje dane w formacie ","position":{"start":{"line":45,"column":209,"offset":3131},"end":{"line":45,"column":285,"offset":3207}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"JSON","position":{"start":{"line":45,"column":287,"offset":3209},"end":{"line":45,"column":291,"offset":3213}}}],"position":{"start":{"line":45,"column":285,"offset":3207},"end":{"line":45,"column":293,"offset":3215}}},{"type":"text","value":" (najczęściej taki format wykorzystuje sie przy komunikacji z serwerem) na znany nam obiekt w javascript.","position":{"start":{"line":45,"column":293,"offset":3215},"end":{"line":45,"column":398,"offset":3320}}}],"position":{"start":{"line":45,"column":1,"offset":2923},"end":{"line":45,"column":398,"offset":3320}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://jsonplaceholder.typicode.com/users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> resp<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":48,"column":1,"offset":3323},"end":{"line":51,"column":4,"offset":3452}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Powyższy kod wyświetli w konsoli obiekt zawierający dane użytkowników. Teraz, dla przykładu wyświetlmy imiona wszystkich użytkowników:","position":{"start":{"line":52,"column":1,"offset":3453},"end":{"line":52,"column":135,"offset":3587}}}],"position":{"start":{"line":52,"column":1,"offset":3453},"end":{"line":52,"column":135,"offset":3587}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://jsonplaceholder.typicode.com/users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> resp<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resp</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> el<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":53,"column":1,"offset":3588},"end":{"line":57,"column":4,"offset":3737}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I voila! Konsola wyświetliła nam listę imion i nazwisk wszystkich użytkowników.","position":{"start":{"line":58,"column":1,"offset":3738},"end":{"line":58,"column":80,"offset":3817}}}],"position":{"start":{"line":58,"column":1,"offset":3738},"end":{"line":58,"column":80,"offset":3817}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Nauczyliśmy się już podstaw korzystania z REST Api po stronie klienta, w następnym poście nauczymy się jak stworzyć taki interfejs samemu, w koa.","position":{"start":{"line":60,"column":4,"offset":3822},"end":{"line":60,"column":149,"offset":3967}}}],"position":{"start":{"line":60,"column":1,"offset":3819},"end":{"line":60,"column":149,"offset":3967}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Dzięki za uwagę, Kamil Michna ;)","position":{"start":{"line":61,"column":5,"offset":3972},"end":{"line":61,"column":37,"offset":4004}}}],"position":{"start":{"line":61,"column":1,"offset":3968},"end":{"line":61,"column":37,"offset":4004}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":61,"column":37,"offset":4004}}}}