{"expireTime":9007200826686518000,"key":"transformer-remark-markdown-html-ast-15a8a381e666e3ec1ba5e4df0438a80b-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Jak stworzyć routing w oddzielnym pliku?.","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":44,"offset":44}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":44,"offset":44}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Mimo iż stworzenie routingu tak jak zrobiliśmy to w tutorialu nr 2 jest bardzo proste i intuicyjne, warto przenieść routy naszej aplikacji do odzielnego pliku. Jak to zrobić? Zacznijmy od standardowego serwera w ","position":{"start":{"line":4,"column":1,"offset":46},"end":{"line":4,"column":213,"offset":258}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Koa","position":{"start":{"line":4,"column":215,"offset":260},"end":{"line":4,"column":218,"offset":263}}}],"position":{"start":{"line":4,"column":213,"offset":258},"end":{"line":4,"column":220,"offset":265}}},{"type":"text","value":", pliki serwera umieśćmy w pliku ","position":{"start":{"line":4,"column":220,"offset":265},"end":{"line":4,"column":253,"offset":298}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"main.js","position":{"start":{"line":4,"column":255,"offset":300},"end":{"line":4,"column":262,"offset":307}}}],"position":{"start":{"line":4,"column":253,"offset":298},"end":{"line":4,"column":264,"offset":309}}},{"type":"text","value":":","position":{"start":{"line":4,"column":264,"offset":309},"end":{"line":4,"column":265,"offset":310}}}],"position":{"start":{"line":4,"column":1,"offset":46},"end":{"line":4,"column":265,"offset":310}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//plik main.js</span>\n\n<span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"koa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </code></pre></div>","position":{"start":{"line":6,"column":1,"offset":312},"end":{"line":16,"column":4,"offset":422}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Teraz stwórzymy oddzielny plik. Nazwiemy go ","position":{"start":{"line":17,"column":1,"offset":423},"end":{"line":17,"column":45,"offset":467}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"router.js","position":{"start":{"line":17,"column":47,"offset":469},"end":{"line":17,"column":56,"offset":478}}}],"position":{"start":{"line":17,"column":45,"offset":467},"end":{"line":17,"column":58,"offset":480}}},{"type":"text","value":". Możesz umieścić go gdzie tylko chcesz w swoim projekcie, ja umieszczę go w tym samym folderze, obok pliku ","position":{"start":{"line":17,"column":58,"offset":480},"end":{"line":17,"column":166,"offset":588}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"main.js","position":{"start":{"line":17,"column":168,"offset":590},"end":{"line":17,"column":175,"offset":597}}}],"position":{"start":{"line":17,"column":166,"offset":588},"end":{"line":17,"column":177,"offset":599}}},{"type":"text","value":".","position":{"start":{"line":17,"column":177,"offset":599},"end":{"line":17,"column":178,"offset":600}}}],"position":{"start":{"line":17,"column":1,"offset":423},"end":{"line":17,"column":178,"offset":600}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Jak stworzyć routing?","position":{"start":{"line":20,"column":4,"offset":606},"end":{"line":20,"column":25,"offset":627}}}],"position":{"start":{"line":20,"column":1,"offset":603},"end":{"line":20,"column":26,"offset":628}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jak wiadomo, jedną z głównych różnic między ","position":{"start":{"line":21,"column":1,"offset":629},"end":{"line":21,"column":45,"offset":673}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Express","position":{"start":{"line":21,"column":47,"offset":675},"end":{"line":21,"column":54,"offset":682}}}],"position":{"start":{"line":21,"column":45,"offset":673},"end":{"line":21,"column":56,"offset":684}}},{"type":"text","value":" a ","position":{"start":{"line":21,"column":56,"offset":684},"end":{"line":21,"column":59,"offset":687}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Koa","position":{"start":{"line":21,"column":61,"offset":689},"end":{"line":21,"column":64,"offset":692}}}],"position":{"start":{"line":21,"column":59,"offset":687},"end":{"line":21,"column":66,"offset":694}}},{"type":"text","value":" jest to, że potrzebny nam middleware musimy doinstalować sobie sami. Zainstalujmy więc przy pomocy npm paczkę ","position":{"start":{"line":21,"column":66,"offset":694},"end":{"line":21,"column":177,"offset":805}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"koa-router","position":{"start":{"line":21,"column":179,"offset":807},"end":{"line":21,"column":189,"offset":817}}}],"position":{"start":{"line":21,"column":177,"offset":805},"end":{"line":21,"column":191,"offset":819}}},{"type":"text","value":" która pozwoli nam na stworzenie routingu. Jeżeli zainstalowałeś już tą paczkę przy okazji czytania jednego z poprzednich poradników, pomiń ten krok, ja jednak przypomnę jak to zrobić: ","position":{"start":{"line":21,"column":191,"offset":819},"end":{"line":21,"column":376,"offset":1004}}},{"type":"raw","value":"<code class=\"language-text\">npm install --save koa-router</code>","position":{"start":{"line":21,"column":376,"offset":1004},"end":{"line":21,"column":407,"offset":1035}}},{"type":"text","value":".","position":{"start":{"line":21,"column":407,"offset":1035},"end":{"line":21,"column":408,"offset":1036}}}],"position":{"start":{"line":21,"column":1,"offset":629},"end":{"line":21,"column":408,"offset":1036}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Uzupełnianie pliku router.js","position":{"start":{"line":22,"column":4,"offset":1040},"end":{"line":22,"column":32,"offset":1068}}}],"position":{"start":{"line":22,"column":1,"offset":1037},"end":{"line":22,"column":32,"offset":1068}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Na początku, podobnie jak w tutorialu nr 2, musimy zdefiniować sobie w pliku ","position":{"start":{"line":23,"column":1,"offset":1069},"end":{"line":23,"column":78,"offset":1146}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"router.js","position":{"start":{"line":23,"column":80,"offset":1148},"end":{"line":23,"column":89,"offset":1157}}}],"position":{"start":{"line":23,"column":78,"offset":1146},"end":{"line":23,"column":91,"offset":1159}}},{"type":"text","value":" nasze podstawowe routy.","position":{"start":{"line":23,"column":91,"offset":1159},"end":{"line":23,"column":115,"offset":1183}}}],"position":{"start":{"line":23,"column":1,"offset":1069},"end":{"line":23,"column":115,"offset":1183}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//plik router.js</span>\n<span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\nrouter\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/hello'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">\"HELLO WORLD!\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body<span class=\"token operator\">+</span><span class=\"token string\">\"THIS IS MAIN PAGE\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router</code></pre></div>","position":{"start":{"line":24,"column":1,"offset":1184},"end":{"line":40,"column":4,"offset":1458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Na początku definiujemy sobie stałe Router, czyli klasę potrzebną do stworzenia routingu, oraz router, czyli jej instancję którą będziemy używać przy obsłudze naszych zapytań. Używając składni ","position":{"start":{"line":41,"column":1,"offset":1459},"end":{"line":41,"column":194,"offset":1652}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"module.exports","position":{"start":{"line":41,"column":196,"offset":1654},"end":{"line":41,"column":210,"offset":1668}}}],"position":{"start":{"line":41,"column":194,"offset":1652},"end":{"line":41,"column":212,"offset":1670}}},{"type":"text","value":", czyli składni modułów ","position":{"start":{"line":41,"column":212,"offset":1670},"end":{"line":41,"column":236,"offset":1694}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"CJS","position":{"start":{"line":41,"column":238,"offset":1696},"end":{"line":41,"column":241,"offset":1699}}}],"position":{"start":{"line":41,"column":236,"offset":1694},"end":{"line":41,"column":243,"offset":1701}}},{"type":"text","value":" eksportujemy nasze routy i umożliwiamy ich zaimportowanie w pliku ","position":{"start":{"line":41,"column":243,"offset":1701},"end":{"line":41,"column":310,"offset":1768}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"main.js","position":{"start":{"line":41,"column":312,"offset":1770},"end":{"line":41,"column":319,"offset":1777}}}],"position":{"start":{"line":41,"column":310,"offset":1768},"end":{"line":41,"column":321,"offset":1779}}},{"type":"text","value":":","position":{"start":{"line":41,"column":321,"offset":1779},"end":{"line":41,"column":322,"offset":1780}}}],"position":{"start":{"line":41,"column":1,"offset":1459},"end":{"line":41,"column":322,"offset":1780}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//plik main.js</span>\n\n\n<span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"koa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./router'</span><span class=\"token punctuation\">)</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </code></pre></div>","position":{"start":{"line":42,"column":1,"offset":1781},"end":{"line":56,"column":4,"offset":1953}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Teraz pora wejść na adres localhost:3000 i przetestować nasze routy. Pierwszy zdefiniowany przez nas to ","position":{"start":{"line":57,"column":1,"offset":1954},"end":{"line":57,"column":105,"offset":2058}}},{"type":"raw","value":"<code class=\"language-text\">/hello</code>","position":{"start":{"line":57,"column":105,"offset":2058},"end":{"line":57,"column":113,"offset":2066}}},{"type":"text","value":", gdy wejdziemy pod adres ","position":{"start":{"line":57,"column":113,"offset":2066},"end":{"line":57,"column":139,"offset":2092}}},{"type":"raw","value":"<code class=\"language-text\">localhost:3000/hello</code>","position":{"start":{"line":57,"column":139,"offset":2092},"end":{"line":57,"column":161,"offset":2114}}},{"type":"text","value":" naszym oczom ukaże się treść ","position":{"start":{"line":57,"column":161,"offset":2114},"end":{"line":57,"column":191,"offset":2144}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"HELLO WORLD","position":{"start":{"line":57,"column":193,"offset":2146},"end":{"line":57,"column":204,"offset":2157}}}],"position":{"start":{"line":57,"column":191,"offset":2144},"end":{"line":57,"column":206,"offset":2159}}},{"type":"text","value":", a gdy pod adres ","position":{"start":{"line":57,"column":206,"offset":2159},"end":{"line":57,"column":224,"offset":2177}}},{"type":"raw","value":"<code class=\"language-text\">localhost:3000/</code>","position":{"start":{"line":57,"column":224,"offset":2177},"end":{"line":57,"column":241,"offset":2194}}},{"type":"text","value":" naszym oczom ukaże się zdefiniowane w routes ","position":{"start":{"line":57,"column":241,"offset":2194},"end":{"line":57,"column":287,"offset":2240}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"THIS IS MAIN PAGE","position":{"start":{"line":57,"column":289,"offset":2242},"end":{"line":57,"column":306,"offset":2259}}}],"position":{"start":{"line":57,"column":287,"offset":2240},"end":{"line":57,"column":308,"offset":2261}}},{"type":"text","value":".","position":{"start":{"line":57,"column":308,"offset":2261},"end":{"line":57,"column":309,"offset":2262}}}],"position":{"start":{"line":57,"column":1,"offset":1954},"end":{"line":57,"column":309,"offset":2262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Myślę że przeniesienie routingu naszego prostego serwera, szczególnie osobom dopiero zaczynającym przygodę z Koa pozwoli lepiej uporządkować strukturę swojej aplikacji. W następnym poście zaczniemy wykorzystywać możliwości template engines.","position":{"start":{"line":59,"column":4,"offset":2267},"end":{"line":59,"column":244,"offset":2507}}}],"position":{"start":{"line":59,"column":1,"offset":2264},"end":{"line":59,"column":244,"offset":2507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Dzięki za uwagę, Kamil Michna ;)","position":{"start":{"line":60,"column":5,"offset":2512},"end":{"line":60,"column":37,"offset":2544}}}],"position":{"start":{"line":60,"column":1,"offset":2508},"end":{"line":60,"column":37,"offset":2544}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":61,"column":1,"offset":2545}}}}