{"expireTime":9007200826686518000,"key":"transformer-remark-markdown-ast-f5cdeb31dce66d2d25a2a4fe0505d02c-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Podstawowa obsługa formularzy w Koa.","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":39,"offset":38},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":39,"offset":38},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Ostatnio nauczyliśmy się jak na podstawie danych z serwera tworzyć wygląd naszych podstron, dzisiaj nauczymy się komunikacji w drugą stronę - serwer odbierze dane z naszej witryny!","position":{"start":{"line":3,"column":1,"offset":40},"end":{"line":3,"column":181,"offset":220},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":40},"end":{"line":3,"column":181,"offset":220},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Zacznijmy więc od stworzenia podstrony, z formularzem","position":{"start":{"line":5,"column":4,"offset":225},"end":{"line":5,"column":57,"offset":278},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":222},"end":{"line":5,"column":57,"offset":278},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Wejdźmy zatem do naszego katalogu ","position":{"start":{"line":6,"column":1,"offset":279},"end":{"line":6,"column":35,"offset":313},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"views","position":{"start":{"line":6,"column":37,"offset":315},"end":{"line":6,"column":42,"offset":320},"indent":[]}}],"position":{"start":{"line":6,"column":35,"offset":313},"end":{"line":6,"column":44,"offset":322},"indent":[]}},{"type":"text","value":" i stwórzmy tam plik o nazwie \"forms.pug\". Nazwa jest całkowicie dowolna. Zacznijmy więc tworzyć stronę z prostym formularzem:","position":{"start":{"line":6,"column":44,"offset":322},"end":{"line":6,"column":170,"offset":448},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":279},"end":{"line":6,"column":170,"offset":448},"indent":[]}},{"type":"html","lang":"pug","value":"<div class=\"gatsby-highlight\" data-language=\"pug\"><pre class=\"language-pug\"><code class=\"language-pug\"><span class=\"token tag\">html</span>\n    <span class=\"token tag\">head</span>\n        <span class=\"token tag\">title</span><span class=\"token punctuation\">=</span><span class=\"token code\">title</span>\n    <span class=\"token tag\">body</span>\n        <span class=\"token tag\">form<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">action</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"/sendData\"</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"POST\"</span></span><span class=\"token punctuation\">)</span></span></span>\n            <span class=\"token tag\">input<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">type</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"formContent\"</span></span><span class=\"token punctuation\">)</span></span></span>\n            <span class=\"token tag\">input<span class=\"token attributes\"><span class=\"token punctuation\">(</span><span class=\"token attr-name\">type</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"submit\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">value</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\"><span class=\"token string\">\"Wyślij dane\"</span></span><span class=\"token punctuation\">)</span></span></span></code></pre></div>","position":{"start":{"line":7,"column":1,"offset":449},"end":{"line":16,"column":4,"offset":654},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Nasza strona zawiera prosty formularz z dwoma inputami: jeden, o typie ","position":{"start":{"line":17,"column":1,"offset":655},"end":{"line":17,"column":72,"offset":726},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"text","position":{"start":{"line":17,"column":74,"offset":728},"end":{"line":17,"column":78,"offset":732},"indent":[]}}],"position":{"start":{"line":17,"column":72,"offset":726},"end":{"line":17,"column":80,"offset":734},"indent":[]}},{"type":"text","value":" będzie miejscem do którego wprowadzimy tekst który następnie wyślemy do serwera,jego name, czyli ","position":{"start":{"line":17,"column":80,"offset":734},"end":{"line":17,"column":178,"offset":832},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"formContent","position":{"start":{"line":17,"column":180,"offset":834},"end":{"line":17,"column":191,"offset":845},"indent":[]}}],"position":{"start":{"line":17,"column":178,"offset":832},"end":{"line":17,"column":193,"offset":847},"indent":[]}},{"type":"text","value":" będzie nam potrzebny do uzyskania tych konkretnie danych po stronie serwera, a input o typie ","position":{"start":{"line":17,"column":193,"offset":847},"end":{"line":17,"column":287,"offset":941},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"submit","position":{"start":{"line":17,"column":289,"offset":943},"end":{"line":17,"column":295,"offset":949},"indent":[]}}],"position":{"start":{"line":17,"column":287,"offset":941},"end":{"line":17,"column":297,"offset":951},"indent":[]}},{"type":"text","value":" to przycisk, który wyśle dane. Cały formularz ma atrybut ","position":{"start":{"line":17,"column":297,"offset":951},"end":{"line":17,"column":355,"offset":1009},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"action","position":{"start":{"line":17,"column":357,"offset":1011},"end":{"line":17,"column":363,"offset":1017},"indent":[]}}],"position":{"start":{"line":17,"column":355,"offset":1009},"end":{"line":17,"column":365,"offset":1019},"indent":[]}},{"type":"text","value":" ustawiony pod adres ","position":{"start":{"line":17,"column":365,"offset":1019},"end":{"line":17,"column":386,"offset":1040},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"/sendData","position":{"start":{"line":17,"column":388,"offset":1042},"end":{"line":17,"column":397,"offset":1051},"indent":[]}}],"position":{"start":{"line":17,"column":386,"offset":1040},"end":{"line":17,"column":399,"offset":1053},"indent":[]}},{"type":"text","value":", oznacza to że wszystkie dane będą wysyłane pod adres ","position":{"start":{"line":17,"column":399,"offset":1053},"end":{"line":17,"column":454,"offset":1108},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">http://localhost:3000/sendData</code>","position":{"start":{"line":17,"column":454,"offset":1108},"end":{"line":17,"column":486,"offset":1140},"indent":[]}},{"type":"text","value":". Atrybut ","position":{"start":{"line":17,"column":486,"offset":1140},"end":{"line":17,"column":496,"offset":1150},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"method","position":{"start":{"line":17,"column":498,"offset":1152},"end":{"line":17,"column":504,"offset":1158},"indent":[]}}],"position":{"start":{"line":17,"column":496,"offset":1150},"end":{"line":17,"column":506,"offset":1160},"indent":[]}},{"type":"text","value":" ustawiłem na wartość ","position":{"start":{"line":17,"column":506,"offset":1160},"end":{"line":17,"column":528,"offset":1182},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"POST","position":{"start":{"line":17,"column":530,"offset":1184},"end":{"line":17,"column":534,"offset":1188},"indent":[]}}],"position":{"start":{"line":17,"column":528,"offset":1182},"end":{"line":17,"column":536,"offset":1190},"indent":[]}},{"type":"text","value":".Na pełne ","position":{"start":{"line":17,"column":536,"offset":1190},"end":{"line":17,"column":546,"offset":1200},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"REST API","position":{"start":{"line":17,"column":548,"offset":1202},"end":{"line":17,"column":556,"offset":1210},"indent":[]}}],"position":{"start":{"line":17,"column":546,"offset":1200},"end":{"line":17,"column":558,"offset":1212},"indent":[]}},{"type":"text","value":" przyjdzie czas niebawem.","position":{"start":{"line":17,"column":558,"offset":1212},"end":{"line":17,"column":583,"offset":1237},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":655},"end":{"line":17,"column":583,"offset":1237},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Co chcemy osiągnąć?","position":{"start":{"line":19,"column":4,"offset":1242},"end":{"line":19,"column":23,"offset":1261},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1239},"end":{"line":19,"column":23,"offset":1261},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Wyobraźmy sobie że podstrona z naszym formularzem to coś w rodzaju okienka czatu - chcemy po prostu wpisany tam tekst dostarczyć do serwera. Podobnie będzie to działać z kilkoma polami - jak na przykład w przypadku logowania, gdzie potrzebujemy zarówno hasła jak i loginu. ","position":{"start":{"line":20,"column":1,"offset":1262},"end":{"line":20,"column":274,"offset":1535},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1262},"end":{"line":20,"column":274,"offset":1535},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Zacznijmy więc od podpięcia naszego ","position":{"start":{"line":22,"column":1,"offset":1537},"end":{"line":22,"column":37,"offset":1573},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"forms.pug","position":{"start":{"line":22,"column":39,"offset":1575},"end":{"line":22,"column":48,"offset":1584},"indent":[]}}],"position":{"start":{"line":22,"column":37,"offset":1573},"end":{"line":22,"column":50,"offset":1586},"indent":[]}},{"type":"text","value":" pod ","position":{"start":{"line":22,"column":50,"offset":1586},"end":{"line":22,"column":55,"offset":1591},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/</code>","position":{"start":{"line":22,"column":55,"offset":1591},"end":{"line":22,"column":58,"offset":1594},"indent":[]}},{"type":"text","value":" w naszych ","position":{"start":{"line":22,"column":58,"offset":1594},"end":{"line":22,"column":69,"offset":1605},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"routes","position":{"start":{"line":22,"column":71,"offset":1607},"end":{"line":22,"column":77,"offset":1613},"indent":[]}}],"position":{"start":{"line":22,"column":69,"offset":1605},"end":{"line":22,"column":79,"offset":1615},"indent":[]}},{"type":"text","value":". Zedytujmy więc plik ","position":{"start":{"line":22,"column":79,"offset":1615},"end":{"line":22,"column":101,"offset":1637},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"router.js","position":{"start":{"line":22,"column":103,"offset":1639},"end":{"line":22,"column":112,"offset":1648},"indent":[]}}],"position":{"start":{"line":22,"column":101,"offset":1637},"end":{"line":22,"column":114,"offset":1650},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":22,"column":114,"offset":1650},"end":{"line":22,"column":115,"offset":1651},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1537},"end":{"line":22,"column":115,"offset":1651},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\nrouter\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"forms.pug\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router</code></pre></div>","position":{"start":{"line":23,"column":1,"offset":1652},"end":{"line":37,"column":4,"offset":1882},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Póki co dokładnie w ten sposób powinien przedstawiać się nasz plik z routingiem. Usunęliśmy routa wskazującego na ","position":{"start":{"line":38,"column":1,"offset":1883},"end":{"line":38,"column":115,"offset":1997},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/hello</code>","position":{"start":{"line":38,"column":115,"offset":1997},"end":{"line":38,"column":123,"offset":2005},"indent":[]}},{"type":"text","value":", pozostał jedynie ten wskazujący na ","position":{"start":{"line":38,"column":123,"offset":2005},"end":{"line":38,"column":160,"offset":2042},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/</code>","position":{"start":{"line":38,"column":160,"offset":2042},"end":{"line":38,"column":163,"offset":2045},"indent":[]}},{"type":"text","value":", ale teraz renderuje on nasz plik z formularzem. I dokładnie o to nam chodziło. Aby sprawdzić czy wszystko działa poprawnie wejdź pod adres ","position":{"start":{"line":38,"column":163,"offset":2045},"end":{"line":38,"column":304,"offset":2186},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/http://localhost:3000/</code>","position":{"start":{"line":38,"column":304,"offset":2186},"end":{"line":38,"column":329,"offset":2211},"indent":[]}},{"type":"text","value":" i sprawdź czy strona rzeczywiście zawiera nasz prosty formularz. Przypomnę jedynie że ","position":{"start":{"line":38,"column":329,"offset":2211},"end":{"line":38,"column":416,"offset":2298},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Po zedytowaniu naszych plików takich jak main.js albo router.js należy ponownie urochomić serwer poleceniem","position":{"start":{"line":38,"column":418,"offset":2300},"end":{"line":38,"column":525,"offset":2407},"indent":[]}}],"position":{"start":{"line":38,"column":416,"offset":2298},"end":{"line":38,"column":527,"offset":2409},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":38,"column":527,"offset":2409},"end":{"line":38,"column":528,"offset":2410},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">node main.js</code>","position":{"start":{"line":38,"column":528,"offset":2410},"end":{"line":38,"column":542,"offset":2424},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":38,"column":542,"offset":2424},"end":{"line":38,"column":543,"offset":2425},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1883},"end":{"line":38,"column":543,"offset":2425},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Reagowanie na wysłane dane","position":{"start":{"line":40,"column":4,"offset":2430},"end":{"line":40,"column":30,"offset":2456},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":2427},"end":{"line":40,"column":30,"offset":2456},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To co teraz chcemy zrobić, to odebrać dane z naszego formularza. Wysłaliśmy je pod adres ","position":{"start":{"line":41,"column":1,"offset":2457},"end":{"line":41,"column":90,"offset":2546},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">/sendData</code>","position":{"start":{"line":41,"column":90,"offset":2546},"end":{"line":41,"column":101,"offset":2557},"indent":[]}},{"type":"text","value":" metodą ","position":{"start":{"line":41,"column":101,"offset":2557},"end":{"line":41,"column":109,"offset":2565},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"POST","position":{"start":{"line":41,"column":111,"offset":2567},"end":{"line":41,"column":115,"offset":2571},"indent":[]}}],"position":{"start":{"line":41,"column":109,"offset":2565},"end":{"line":41,"column":117,"offset":2573},"indent":[]}},{"type":"text","value":", dodajmy więc w naszym pliku ","position":{"start":{"line":41,"column":117,"offset":2573},"end":{"line":41,"column":147,"offset":2603},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"router.js","position":{"start":{"line":41,"column":149,"offset":2605},"end":{"line":41,"column":158,"offset":2614},"indent":[]}}],"position":{"start":{"line":41,"column":147,"offset":2603},"end":{"line":41,"column":160,"offset":2616},"indent":[]}},{"type":"text","value":" kod, który pozwoli nam zareagować na wysłane dane. Tym razem nie użyjemy w routerze ","position":{"start":{"line":41,"column":160,"offset":2616},"end":{"line":41,"column":245,"offset":2701},"indent":[]}},{"type":"strong","children":[{"type":"text","value":".get","position":{"start":{"line":41,"column":247,"offset":2703},"end":{"line":41,"column":251,"offset":2707},"indent":[]}}],"position":{"start":{"line":41,"column":245,"offset":2701},"end":{"line":41,"column":253,"offset":2709},"indent":[]}},{"type":"text","value":", a ","position":{"start":{"line":41,"column":253,"offset":2709},"end":{"line":41,"column":257,"offset":2713},"indent":[]}},{"type":"strong","children":[{"type":"text","value":".post","position":{"start":{"line":41,"column":259,"offset":2715},"end":{"line":41,"column":264,"offset":2720},"indent":[]}}],"position":{"start":{"line":41,"column":257,"offset":2713},"end":{"line":41,"column":266,"offset":2722},"indent":[]}},{"type":"text","value":", ze względu na metodę którą wysłaliśmy dane:","position":{"start":{"line":41,"column":266,"offset":2722},"end":{"line":41,"column":311,"offset":2767},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2457},"end":{"line":41,"column":311,"offset":2767},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\nrouter\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"forms.pug\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/sendData'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'FORMULARZ ODEBRANY!'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router</code></pre></div>","position":{"start":{"line":42,"column":1,"offset":2768},"end":{"line":59,"column":4,"offset":3086},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Jak nietrudno się domyślić, po wysłaniu danych w naszym terminalu powinien wyświetlić się napis ","position":{"start":{"line":60,"column":1,"offset":3087},"end":{"line":60,"column":97,"offset":3183},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">FORMULARZ ODEBRANY</code>","position":{"start":{"line":60,"column":97,"offset":3183},"end":{"line":60,"column":117,"offset":3203},"indent":[]}},{"type":"text","value":". Sprawdźmy więc czy tak się dzieje.","position":{"start":{"line":60,"column":117,"offset":3203},"end":{"line":60,"column":153,"offset":3239},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":3087},"end":{"line":60,"column":153,"offset":3239},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Sukces!","position":{"start":{"line":62,"column":4,"offset":3244},"end":{"line":62,"column":11,"offset":3251},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3241},"end":{"line":62,"column":11,"offset":3251},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Terminal wyświetlił zadany komunikat. To co nam pozostało, to sprawić aby wyświetlił również wartość pola tekstowego. Jako że znajduje się ona w obiekcie ","position":{"start":{"line":63,"column":1,"offset":3252},"end":{"line":63,"column":155,"offset":3406},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ctx.request.body","position":{"start":{"line":63,"column":157,"offset":3408},"end":{"line":63,"column":173,"offset":3424},"indent":[]}}],"position":{"start":{"line":63,"column":155,"offset":3406},"end":{"line":63,"column":175,"offset":3426},"indent":[]}},{"type":"text","value":", do jego obsługi potrzebny jest nam kolejny middleware, tym razem jest to ","position":{"start":{"line":63,"column":175,"offset":3426},"end":{"line":63,"column":250,"offset":3501},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"bodyparser","position":{"start":{"line":63,"column":252,"offset":3503},"end":{"line":63,"column":262,"offset":3513},"indent":[]}}],"position":{"start":{"line":63,"column":250,"offset":3501},"end":{"line":63,"column":264,"offset":3515},"indent":[]}},{"type":"text","value":". Zainstalujemy go poleceniem ","position":{"start":{"line":63,"column":264,"offset":3515},"end":{"line":63,"column":294,"offset":3545},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">node install koa-bodyparser</code>","position":{"start":{"line":63,"column":294,"offset":3545},"end":{"line":63,"column":323,"offset":3574},"indent":[]}},{"type":"text","value":". Jeżeli instalacja się powiodła, dodajmy go do naszej aplikacji. Zedytujmy więc plik ","position":{"start":{"line":63,"column":323,"offset":3574},"end":{"line":63,"column":409,"offset":3660},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"main.js","position":{"start":{"line":63,"column":411,"offset":3662},"end":{"line":63,"column":418,"offset":3669},"indent":[]}}],"position":{"start":{"line":63,"column":409,"offset":3660},"end":{"line":63,"column":420,"offset":3671},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":63,"column":420,"offset":3671},"end":{"line":63,"column":421,"offset":3672},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":3252},"end":{"line":63,"column":421,"offset":3672},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"koa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./router'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> bodyparser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-bodyparser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//#1</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">bodyparser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//#2</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">views</span><span class=\"token punctuation\">(</span>__dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/views'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    map<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        extension<span class=\"token punctuation\">:</span> <span class=\"token string\">'pug'</span> \n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </code></pre></div>","position":{"start":{"line":64,"column":1,"offset":3673},"end":{"line":83,"column":4,"offset":4031},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"#1","position":{"start":{"line":84,"column":3,"offset":4034},"end":{"line":84,"column":5,"offset":4036},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":4032},"end":{"line":84,"column":7,"offset":4038},"indent":[]}},{"type":"text","value":" to po prostu zaimportowanie naszej biblioteki, natomiast w ","position":{"start":{"line":84,"column":7,"offset":4038},"end":{"line":84,"column":67,"offset":4098},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"#2","position":{"start":{"line":84,"column":69,"offset":4100},"end":{"line":84,"column":71,"offset":4102},"indent":[]}}],"position":{"start":{"line":84,"column":67,"offset":4098},"end":{"line":84,"column":73,"offset":4104},"indent":[]}},{"type":"text","value":" definiujemy ","position":{"start":{"line":84,"column":73,"offset":4104},"end":{"line":84,"column":86,"offset":4117},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"bodyparser","position":{"start":{"line":84,"column":88,"offset":4119},"end":{"line":84,"column":98,"offset":4129},"indent":[]}}],"position":{"start":{"line":84,"column":86,"offset":4117},"end":{"line":84,"column":100,"offset":4131},"indent":[]}},{"type":"text","value":" jako ","position":{"start":{"line":84,"column":100,"offset":4131},"end":{"line":84,"column":106,"offset":4137},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"middleware","position":{"start":{"line":84,"column":108,"offset":4139},"end":{"line":84,"column":118,"offset":4149},"indent":[]}}],"position":{"start":{"line":84,"column":106,"offset":4137},"end":{"line":84,"column":120,"offset":4151},"indent":[]}},{"type":"text","value":". Przejdźmy teraz z powrotem do ","position":{"start":{"line":84,"column":120,"offset":4151},"end":{"line":84,"column":152,"offset":4183},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"router.js","position":{"start":{"line":84,"column":154,"offset":4185},"end":{"line":84,"column":163,"offset":4194},"indent":[]}}],"position":{"start":{"line":84,"column":152,"offset":4183},"end":{"line":84,"column":165,"offset":4196},"indent":[]}},{"type":"text","value":" i zedytujmy go odpowiednio: ","position":{"start":{"line":84,"column":165,"offset":4196},"end":{"line":84,"column":194,"offset":4225},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ctx.request.body","position":{"start":{"line":84,"column":196,"offset":4227},"end":{"line":84,"column":212,"offset":4243},"indent":[]}}],"position":{"start":{"line":84,"column":194,"offset":4225},"end":{"line":84,"column":214,"offset":4245},"indent":[]}},{"type":"text","value":" jest obiektem, który zawiera wszystkie pola wysłane przez nasz formularz, każde z nich jest jednym z właściwości obiektu ","position":{"start":{"line":84,"column":214,"offset":4245},"end":{"line":84,"column":336,"offset":4367},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"body","position":{"start":{"line":84,"column":338,"offset":4369},"end":{"line":84,"column":342,"offset":4373},"indent":[]}}],"position":{"start":{"line":84,"column":336,"offset":4367},"end":{"line":84,"column":344,"offset":4375},"indent":[]}},{"type":"text","value":". Aby więc dostać się do tekstu który znajdował się w polu tekstowym o atrybucie ","position":{"start":{"line":84,"column":344,"offset":4375},"end":{"line":84,"column":425,"offset":4456},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"name=\"content\"","position":{"start":{"line":84,"column":427,"offset":4458},"end":{"line":84,"column":441,"offset":4472},"indent":[]}}],"position":{"start":{"line":84,"column":425,"offset":4456},"end":{"line":84,"column":443,"offset":4474},"indent":[]}},{"type":"text","value":" musimy użyć ","position":{"start":{"line":84,"column":443,"offset":4474},"end":{"line":84,"column":456,"offset":4487},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"ctx.request.body.content","position":{"start":{"line":84,"column":458,"offset":4489},"end":{"line":84,"column":482,"offset":4513},"indent":[]}}],"position":{"start":{"line":84,"column":456,"offset":4487},"end":{"line":84,"column":484,"offset":4515},"indent":[]}},{"type":"text","value":". Po edycji nasz plik powinien wyglądać tak:","position":{"start":{"line":84,"column":484,"offset":4515},"end":{"line":84,"column":528,"offset":4559},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":4032},"end":{"line":84,"column":528,"offset":4559},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> views <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\nrouter\n    <span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"forms.pug\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/sendData'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`WARTOŚĆ POLA TEKSTOWEGO: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ctx<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>content<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router</code></pre></div>","position":{"start":{"line":85,"column":1,"offset":4560},"end":{"line":104,"column":4,"offset":4913},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Od teraz przy każdym wysłaniu formularza nasz terminal wyświetli stosowny komunikat, wraz z wartością pobraną z pola tekstowego.","position":{"start":{"line":105,"column":1,"offset":4914},"end":{"line":105,"column":129,"offset":5042},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4914},"end":{"line":105,"column":129,"offset":5042},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"To tyle na dzisiaj, w następnym poradniku dowiemy się w jaki sposób skonfigurować nasz serwer tak, aby serwował pliki statyczne, czyli pliki css oraz zdjęcia","position":{"start":{"line":108,"column":3,"offset":5047},"end":{"line":108,"column":160,"offset":5204},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":5045},"end":{"line":108,"column":162,"offset":5206},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":5045},"end":{"line":108,"column":162,"offset":5206},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Dzięki za uwagę, Kamil Michna ;)","position":{"start":{"line":111,"column":5,"offset":5213},"end":{"line":111,"column":37,"offset":5245},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":5209},"end":{"line":111,"column":37,"offset":5245},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":111,"column":37,"offset":5245}}}}