{"expireTime":9007200826686518000,"key":"transformer-remark-markdown-html-ast-a35d75a00da20acc3d97ddbeb08c28e4-gatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Routing w Koa.","position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":17,"offset":18}}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":17,"offset":18}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dzisiaj zajmiemy się czymś bardzo ważnym dla praktycznie każdej aplikacji internetowej - ","position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":90,"offset":108}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"routingiem","position":{"start":{"line":4,"column":92,"offset":110},"end":{"line":4,"column":102,"offset":120}}}],"position":{"start":{"line":4,"column":90,"offset":108},"end":{"line":4,"column":104,"offset":122}}},{"type":"text","value":". Zanim jednak przejdziemy do kodu, musimy ustalić, czym właściwie ten routing jest.","position":{"start":{"line":4,"column":104,"offset":122},"end":{"line":4,"column":188,"offset":206}}}],"position":{"start":{"line":4,"column":1,"offset":19},"end":{"line":4,"column":188,"offset":206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Czym jest Routing?","position":{"start":{"line":5,"column":4,"offset":210},"end":{"line":5,"column":22,"offset":228}}}],"position":{"start":{"line":5,"column":1,"offset":207},"end":{"line":5,"column":22,"offset":228}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dzięki ","position":{"start":{"line":6,"column":1,"offset":229},"end":{"line":6,"column":8,"offset":236}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"routingowi","position":{"start":{"line":6,"column":10,"offset":238},"end":{"line":6,"column":20,"offset":248}}}],"position":{"start":{"line":6,"column":8,"offset":236},"end":{"line":6,"column":22,"offset":250}}},{"type":"text","value":" możemy w prosty sposób ustalić jak nasza aplikacja reagować będzie na zapytania do niej kierowane - jednym słowem możemy ściśle ustalić sposób zachowania naszej aplikacji w zależności od typu zapytania, oraz ścieżki wskazanej przez zapytanie. Pozwala nam to w znacznie prostszy sposób komunikować się z frontem aplikacji - chociażby poprzez ","position":{"start":{"line":6,"column":22,"offset":250},"end":{"line":6,"column":364,"offset":592}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"REST API","position":{"start":{"line":6,"column":366,"offset":594},"end":{"line":6,"column":374,"offset":602}}}],"position":{"start":{"line":6,"column":364,"offset":592},"end":{"line":6,"column":376,"offset":604}}},{"type":"text","value":".","position":{"start":{"line":6,"column":376,"offset":604},"end":{"line":6,"column":377,"offset":605}}}],"position":{"start":{"line":6,"column":1,"offset":229},"end":{"line":6,"column":377,"offset":605}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Routing w Koa - jak zacząć?","position":{"start":{"line":8,"column":4,"offset":610},"end":{"line":8,"column":31,"offset":637}}}],"position":{"start":{"line":8,"column":1,"offset":607},"end":{"line":8,"column":31,"offset":637}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Budowa ","position":{"start":{"line":9,"column":1,"offset":638},"end":{"line":9,"column":8,"offset":645}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Koa","position":{"start":{"line":9,"column":10,"offset":647},"end":{"line":9,"column":13,"offset":650}}}],"position":{"start":{"line":9,"column":8,"offset":645},"end":{"line":9,"column":15,"offset":652}}},{"type":"text","value":" trochę różni się od budowy innego frameworka - ","position":{"start":{"line":9,"column":15,"offset":652},"end":{"line":9,"column":63,"offset":700}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Express.js","position":{"start":{"line":9,"column":65,"offset":702},"end":{"line":9,"column":75,"offset":712}}}],"position":{"start":{"line":9,"column":63,"offset":700},"end":{"line":9,"column":77,"offset":714}}},{"type":"text","value":". W ","position":{"start":{"line":9,"column":77,"offset":714},"end":{"line":9,"column":81,"offset":718}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Expressie","position":{"start":{"line":9,"column":83,"offset":720},"end":{"line":9,"column":92,"offset":729}}}],"position":{"start":{"line":9,"column":81,"offset":718},"end":{"line":9,"column":94,"offset":731}}},{"type":"text","value":" na starcie mieliśmy moduł pozwalający na obsługę routingu, natomiast w ","position":{"start":{"line":9,"column":94,"offset":731},"end":{"line":9,"column":166,"offset":803}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Koa","position":{"start":{"line":9,"column":168,"offset":805},"end":{"line":9,"column":171,"offset":808}}}],"position":{"start":{"line":9,"column":166,"offset":803},"end":{"line":9,"column":173,"offset":810}}},{"type":"text","value":" musimy sami go doinstalować. Potrzebny moduł nosi nazwę ","position":{"start":{"line":9,"column":173,"offset":810},"end":{"line":9,"column":230,"offset":867}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"koa-router","position":{"start":{"line":9,"column":232,"offset":869},"end":{"line":9,"column":242,"offset":879}}}],"position":{"start":{"line":9,"column":230,"offset":867},"end":{"line":9,"column":244,"offset":881}}},{"type":"text","value":" i podobnie jak w przypadku ","position":{"start":{"line":9,"column":244,"offset":881},"end":{"line":9,"column":272,"offset":909}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"koa","position":{"start":{"line":9,"column":274,"offset":911},"end":{"line":9,"column":277,"offset":914}}}],"position":{"start":{"line":9,"column":272,"offset":909},"end":{"line":9,"column":279,"offset":916}}},{"type":"text","value":" doinstalujemy go za pomocą polecenia\n","position":{"start":{"line":9,"column":279,"offset":916},"end":{"line":10,"column":1,"offset":954}}},{"type":"raw","value":"<code class=\"language-text\">npm i koa-router</code>","position":{"start":{"line":10,"column":1,"offset":954},"end":{"line":10,"column":19,"offset":972}}},{"type":"text","value":" (instalujemy oczywiście w folderze z zainstalowanym koa)","position":{"start":{"line":10,"column":19,"offset":972},"end":{"line":10,"column":76,"offset":1029}}}],"position":{"start":{"line":9,"column":1,"offset":638},"end":{"line":10,"column":76,"offset":1029}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Używamy routera","position":{"start":{"line":12,"column":4,"offset":1034},"end":{"line":12,"column":19,"offset":1049}}}],"position":{"start":{"line":12,"column":1,"offset":1031},"end":{"line":12,"column":19,"offset":1049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Zaczynamy z kodem z poprzedniego wpisu: ","position":{"start":{"line":13,"column":1,"offset":1050},"end":{"line":13,"column":41,"offset":1090}}}],"position":{"start":{"line":13,"column":1,"offset":1050},"end":{"line":13,"column":41,"offset":1090}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span> <span class=\"token parameter\">ctx</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'Hello World'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":14,"column":1,"offset":1091},"end":{"line":24,"column":4,"offset":1265}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"aby skorzystać z ","position":{"start":{"line":25,"column":1,"offset":1266},"end":{"line":25,"column":18,"offset":1283}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"routera","position":{"start":{"line":25,"column":20,"offset":1285},"end":{"line":25,"column":27,"offset":1292}}}],"position":{"start":{"line":25,"column":18,"offset":1283},"end":{"line":25,"column":29,"offset":1294}}},{"type":"text","value":", musimy \"pobrać\" go do naszej aplikacji, przypiszemy go do stałej ","position":{"start":{"line":25,"column":29,"offset":1294},"end":{"line":25,"column":96,"offset":1361}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Router","position":{"start":{"line":25,"column":98,"offset":1363},"end":{"line":25,"column":104,"offset":1369}}}],"position":{"start":{"line":25,"column":96,"offset":1361},"end":{"line":25,"column":106,"offset":1371}}},{"type":"text","value":":","position":{"start":{"line":25,"column":106,"offset":1371},"end":{"line":25,"column":107,"offset":1372}}}],"position":{"start":{"line":25,"column":1,"offset":1266},"end":{"line":25,"column":107,"offset":1372}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span> <span class=\"token parameter\">ctx</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n         ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'Hello World'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":27,"column":1,"offset":1374},"end":{"line":38,"column":4,"offset":1590}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Następnie wprowadzimy kilka istotnych zmian w kodzie:","position":{"start":{"line":39,"column":1,"offset":1591},"end":{"line":39,"column":54,"offset":1644}}}],"position":{"start":{"line":39,"column":1,"offset":1591},"end":{"line":39,"column":54,"offset":1644}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n   app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">allowedMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is index page'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":40,"column":1,"offset":1645},"end":{"line":55,"column":4,"offset":1965}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Po pierwsze, podobnie jak w przypadku ","position":{"start":{"line":56,"column":1,"offset":1966},"end":{"line":56,"column":39,"offset":2004}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"app","position":{"start":{"line":56,"column":41,"offset":2006},"end":{"line":56,"column":44,"offset":2009}}}],"position":{"start":{"line":56,"column":39,"offset":2004},"end":{"line":56,"column":46,"offset":2011}}},{"type":"text","value":" tworzymy stałą router, która staje się instancją klasy ","position":{"start":{"line":56,"column":46,"offset":2011},"end":{"line":56,"column":102,"offset":2067}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Router","position":{"start":{"line":56,"column":104,"offset":2069},"end":{"line":56,"column":110,"offset":2075}}}],"position":{"start":{"line":56,"column":102,"offset":2067},"end":{"line":56,"column":112,"offset":2077}}},{"type":"text","value":". Brzmi to skomplikowanie, ale można to sobie bardzo prosto wyobrazić - z \"foremki\" jaką jest ","position":{"start":{"line":56,"column":112,"offset":2077},"end":{"line":56,"column":206,"offset":2171}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Router","position":{"start":{"line":56,"column":208,"offset":2173},"end":{"line":56,"column":214,"offset":2179}}}],"position":{"start":{"line":56,"column":206,"offset":2171},"end":{"line":56,"column":216,"offset":2181}}},{"type":"text","value":" powstaje ","position":{"start":{"line":56,"column":216,"offset":2181},"end":{"line":56,"column":226,"offset":2191}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"router","position":{"start":{"line":56,"column":228,"offset":2193},"end":{"line":56,"column":234,"offset":2199}}}],"position":{"start":{"line":56,"column":226,"offset":2191},"end":{"line":56,"column":236,"offset":2201}}},{"type":"text","value":", czyli jego mała , fizyczna instacja skrojona idealnie na potrzeby naszej aplikacji:","position":{"start":{"line":56,"column":236,"offset":2201},"end":{"line":56,"column":321,"offset":2286}}}],"position":{"start":{"line":56,"column":1,"offset":1966},"end":{"line":56,"column":321,"offset":2286}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">     <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":57,"column":1,"offset":2287},"end":{"line":59,"column":4,"offset":2338}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Następnie dwukrotnie korzystamy ze składni ","position":{"start":{"line":62,"column":1,"offset":2341},"end":{"line":62,"column":44,"offset":2384}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"app.use","position":{"start":{"line":62,"column":46,"offset":2386},"end":{"line":62,"column":53,"offset":2393}}}],"position":{"start":{"line":62,"column":44,"offset":2384},"end":{"line":62,"column":55,"offset":2395}}},{"type":"text","value":":\n","position":{"start":{"line":62,"column":55,"offset":2395},"end":{"line":63,"column":1,"offset":2397}}},{"type":"raw","value":"<code class=\"language-text\">app.use(router.routes())</code>","position":{"start":{"line":63,"column":1,"offset":2397},"end":{"line":63,"column":27,"offset":2423}}},{"type":"text","value":" - tutaj mówimy naszej aplikacji aby przy użyciu funkcji ","position":{"start":{"line":63,"column":27,"offset":2423},"end":{"line":63,"column":84,"offset":2480}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"routes","position":{"start":{"line":63,"column":86,"offset":2482},"end":{"line":63,"column":92,"offset":2488}}}],"position":{"start":{"line":63,"column":84,"offset":2480},"end":{"line":63,"column":94,"offset":2490}}},{"type":"text","value":" pobrała od naszego routera wszystkie potrzebne informacje i użyła ich w razie jakiegokolwiek zapytania. To właśnie ta funkcja łączy nasz router (czyli tzw middleware) z aplikacją","position":{"start":{"line":63,"column":94,"offset":2490},"end":{"line":63,"column":273,"offset":2669}}}],"position":{"start":{"line":62,"column":1,"offset":2341},"end":{"line":63,"column":273,"offset":2669}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">app.use(router.allowedMethods()))</code>","position":{"start":{"line":66,"column":1,"offset":2672},"end":{"line":66,"column":36,"offset":2707}}},{"type":"text","value":" - ta linia nie jest niezbędna do podstawowego działania, ale pozwala na obsługę zapytania OPTIONS - warto więc ją dodać, nawet jeżeli nie do końca wiemy jeszcze do czego dokładnie służy","position":{"start":{"line":66,"column":36,"offset":2707},"end":{"line":66,"column":222,"offset":2893}}}],"position":{"start":{"line":66,"column":1,"offset":2672},"end":{"line":66,"column":222,"offset":2893}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Zabawa routingiem","position":{"start":{"line":69,"column":4,"offset":2899},"end":{"line":69,"column":21,"offset":2916}}}],"position":{"start":{"line":69,"column":1,"offset":2896},"end":{"line":69,"column":21,"offset":2916}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Po wstępnej konfiguracji przyszedł czas na właściwie zastosowanie routera:","position":{"start":{"line":70,"column":1,"offset":2917},"end":{"line":70,"column":75,"offset":2991}}}],"position":{"start":{"line":70,"column":1,"offset":2917},"end":{"line":70,"column":75,"offset":2991}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    router<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is index page'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":71,"column":1,"offset":2992},"end":{"line":76,"column":4,"offset":3090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Po wejściu w przeglądarce pod adres ","position":{"start":{"line":77,"column":1,"offset":3091},"end":{"line":77,"column":37,"offset":3127}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/"},"children":[{"type":"text","value":"http://localhost:3000/","position":{"start":{"line":77,"column":37,"offset":3127},"end":{"line":77,"column":59,"offset":3149}}}],"position":{"start":{"line":77,"column":37,"offset":3127},"end":{"line":77,"column":59,"offset":3149}}},{"type":"text","value":" naszym oczom powinno ukazać się \"this is index page\". Nic w tym jednak niezwykłego - podobny efekt moglibyśmy osiągnąć używając kodu z poprzedniej częśći, podmieniając jedynie 'hello' na wybrany przez nas tekst. ","position":{"start":{"line":77,"column":59,"offset":3149},"end":{"line":77,"column":272,"offset":3362}}}],"position":{"start":{"line":77,"column":1,"offset":3091},"end":{"line":77,"column":272,"offset":3362}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Więcej routingu","position":{"start":{"line":78,"column":4,"offset":3366},"end":{"line":78,"column":19,"offset":3381}}}],"position":{"start":{"line":78,"column":1,"offset":3363},"end":{"line":78,"column":19,"offset":3381}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dodajmy sobie do naszego skryptu jeszcze jeden route: ","position":{"start":{"line":79,"column":1,"offset":3382},"end":{"line":79,"column":55,"offset":3436}}}],"position":{"start":{"line":79,"column":1,"offset":3382},"end":{"line":79,"column":55,"offset":3436}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">const</span> Koa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n   app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">allowedMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is index page'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n     router<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/hello'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is hello page'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":80,"column":1,"offset":3437},"end":{"line":99,"column":4,"offset":3844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Teraz po wejściu na ","position":{"start":{"line":100,"column":1,"offset":3845},"end":{"line":100,"column":21,"offset":3865}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/hello"},"children":[{"type":"text","value":"http://localhost:3000/hello","position":{"start":{"line":100,"column":21,"offset":3865},"end":{"line":100,"column":48,"offset":3892}}}],"position":{"start":{"line":100,"column":21,"offset":3865},"end":{"line":100,"column":48,"offset":3892}}},{"type":"text","value":" nasz serwer wykryje odpowiednią ścieżkę i zamiast \"this is index page\" zwróci \"this is hello page\"","position":{"start":{"line":100,"column":48,"offset":3892},"end":{"line":100,"column":147,"offset":3991}}}],"position":{"start":{"line":100,"column":1,"offset":3845},"end":{"line":100,"column":147,"offset":3991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Fajne, ale jak to działa?","position":{"start":{"line":102,"column":4,"offset":3996},"end":{"line":102,"column":29,"offset":4021}}}],"position":{"start":{"line":102,"column":1,"offset":3993},"end":{"line":102,"column":29,"offset":4021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Rozłóżmy sobie routing na części pierwsze. Jako przykładem posłużymy się tym routem:","position":{"start":{"line":103,"column":1,"offset":4022},"end":{"line":103,"column":85,"offset":4106}}}],"position":{"start":{"line":103,"column":1,"offset":4022},"end":{"line":103,"column":85,"offset":4106}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">      router<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/hello'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is hello page'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":104,"column":1,"offset":4107},"end":{"line":110,"column":4,"offset":4213}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">router.get</code>","position":{"start":{"line":112,"column":1,"offset":4215},"end":{"line":112,"column":13,"offset":4227}}},{"type":"text","value":" informuje dany route aby regował na zapytanie o danej metodzie - w tym przypadku ","position":{"start":{"line":112,"column":13,"offset":4227},"end":{"line":112,"column":95,"offset":4309}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"get","position":{"start":{"line":112,"column":97,"offset":4311},"end":{"line":112,"column":100,"offset":4314}}}],"position":{"start":{"line":112,"column":95,"offset":4309},"end":{"line":112,"column":102,"offset":4316}}},{"type":"text","value":". Oprócz ","position":{"start":{"line":112,"column":102,"offset":4316},"end":{"line":112,"column":111,"offset":4325}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"get","position":{"start":{"line":112,"column":113,"offset":4327},"end":{"line":112,"column":116,"offset":4330}}}],"position":{"start":{"line":112,"column":111,"offset":4325},"end":{"line":112,"column":118,"offset":4332}}},{"type":"text","value":" możemy użyć także innych słów kluczowych, odpowiadających metodom zapytań ","position":{"start":{"line":112,"column":118,"offset":4332},"end":{"line":112,"column":193,"offset":4407}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"http","position":{"start":{"line":112,"column":195,"offset":4409},"end":{"line":112,"column":199,"offset":4413}}}],"position":{"start":{"line":112,"column":193,"offset":4407},"end":{"line":112,"column":201,"offset":4415}}},{"type":"text","value":" używanych do stworzenia ","position":{"start":{"line":112,"column":201,"offset":4415},"end":{"line":112,"column":226,"offset":4440}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"REST API","position":{"start":{"line":112,"column":228,"offset":4442},"end":{"line":112,"column":236,"offset":4450}}}],"position":{"start":{"line":112,"column":226,"offset":4440},"end":{"line":112,"column":238,"offset":4452}}},{"type":"text","value":":","position":{"start":{"line":112,"column":238,"offset":4452},"end":{"line":112,"column":239,"offset":4453}}}],"position":{"start":{"line":112,"column":1,"offset":4215},"end":{"line":112,"column":239,"offset":4453}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"post (odpowiada za obsługę zapytania ","position":{"start":{"line":113,"column":3,"offset":4456},"end":{"line":113,"column":40,"offset":4493}}},{"type":"raw","value":"<code class=\"language-text\">post</code>","position":{"start":{"line":113,"column":40,"offset":4493},"end":{"line":113,"column":46,"offset":4499}}},{"type":"text","value":")","position":{"start":{"line":113,"column":46,"offset":4499},"end":{"line":113,"column":47,"offset":4500}}}],"position":{"start":{"line":113,"column":1,"offset":4454},"end":{"line":113,"column":47,"offset":4500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"put  (odpowiada za obsługę zapytania ","position":{"start":{"line":114,"column":3,"offset":4503},"end":{"line":114,"column":40,"offset":4540}}},{"type":"raw","value":"<code class=\"language-text\">put</code>","position":{"start":{"line":114,"column":40,"offset":4540},"end":{"line":114,"column":45,"offset":4545}}},{"type":"text","value":")","position":{"start":{"line":114,"column":45,"offset":4545},"end":{"line":114,"column":46,"offset":4546}}}],"position":{"start":{"line":114,"column":1,"offset":4501},"end":{"line":114,"column":46,"offset":4546}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"del (odpowiada za obsługę zapytania ","position":{"start":{"line":115,"column":3,"offset":4549},"end":{"line":115,"column":39,"offset":4585}}},{"type":"raw","value":"<code class=\"language-text\">delete</code>","position":{"start":{"line":115,"column":39,"offset":4585},"end":{"line":115,"column":47,"offset":4593}}},{"type":"text","value":")","position":{"start":{"line":115,"column":47,"offset":4593},"end":{"line":115,"column":48,"offset":4594}}}],"position":{"start":{"line":115,"column":1,"offset":4547},"end":{"line":115,"column":48,"offset":4594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"all (obsługuje wszystkie powyższe typy zapytań )","position":{"start":{"line":116,"column":3,"offset":4597},"end":{"line":116,"column":51,"offset":4645}}}],"position":{"start":{"line":116,"column":1,"offset":4595},"end":{"line":116,"column":51,"offset":4645}}},{"type":"text","value":"\n"}],"position":{"start":{"line":113,"column":1,"offset":4454},"end":{"line":116,"column":51,"offset":4645}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pierwszym parametrem funkcji jest ","position":{"start":{"line":118,"column":1,"offset":4647},"end":{"line":118,"column":35,"offset":4681}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"relatywna ścieżka naszego zapytania","position":{"start":{"line":118,"column":37,"offset":4683},"end":{"line":118,"column":72,"offset":4718}}}],"position":{"start":{"line":118,"column":35,"offset":4681},"end":{"line":118,"column":74,"offset":4720}}},{"type":"text","value":". Przykładowo ","position":{"start":{"line":118,"column":74,"offset":4720},"end":{"line":118,"column":88,"offset":4734}}},{"type":"raw","value":"<code class=\"language-text\">/hello</code>","position":{"start":{"line":118,"column":88,"offset":4734},"end":{"line":118,"column":96,"offset":4742}}},{"type":"text","value":" w naszej aplikacji nasłuchuje zapytań tylko pod adresem ","position":{"start":{"line":118,"column":96,"offset":4742},"end":{"line":118,"column":153,"offset":4799}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000/hello"},"children":[{"type":"text","value":"http://localhost:3000/hello","position":{"start":{"line":118,"column":153,"offset":4799},"end":{"line":118,"column":180,"offset":4826}}}],"position":{"start":{"line":118,"column":153,"offset":4799},"end":{"line":118,"column":180,"offset":4826}}}],"position":{"start":{"line":118,"column":1,"offset":4647},"end":{"line":118,"column":180,"offset":4826}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Następny parametr to funkcja, opisująca zachowanie naszego routa: ","position":{"start":{"line":121,"column":1,"offset":4829},"end":{"line":121,"column":67,"offset":4895}}}],"position":{"start":{"line":121,"column":1,"offset":4829},"end":{"line":121,"column":67,"offset":4895}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">(</span><span class=\"token parameter\">ctx<span class=\"token punctuation\">,</span>next</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> <span class=\"token string\">'this is hello page'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":123,"column":1,"offset":4897},"end":{"line":129,"column":4,"offset":4973}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Korzystamy tutaj z tzw ","position":{"start":{"line":130,"column":1,"offset":4974},"end":{"line":130,"column":24,"offset":4997}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"arrow function","position":{"start":{"line":130,"column":26,"offset":4999},"end":{"line":130,"column":40,"offset":5013}}}],"position":{"start":{"line":130,"column":24,"offset":4997},"end":{"line":130,"column":42,"offset":5015}}}],"position":{"start":{"line":130,"column":1,"offset":4974},"end":{"line":130,"column":42,"offset":5015}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"O parametrze ","position":{"start":{"line":132,"column":1,"offset":5017},"end":{"line":132,"column":14,"offset":5030}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"next","position":{"start":{"line":132,"column":16,"offset":5032},"end":{"line":132,"column":20,"offset":5036}}}],"position":{"start":{"line":132,"column":14,"offset":5030},"end":{"line":132,"column":22,"offset":5038}}},{"type":"text","value":" opowiem w innym wpisie, natomiast ctx to  ","position":{"start":{"line":132,"column":22,"offset":5038},"end":{"line":132,"column":65,"offset":5081}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"kontekst","position":{"start":{"line":132,"column":67,"offset":5083},"end":{"line":132,"column":75,"offset":5091}}}],"position":{"start":{"line":132,"column":65,"offset":5081},"end":{"line":132,"column":77,"offset":5093}}},{"type":"text","value":", czyli obiekt który zawiera w sobie znane z Expressa ","position":{"start":{"line":132,"column":77,"offset":5093},"end":{"line":132,"column":131,"offset":5147}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"res","position":{"start":{"line":132,"column":133,"offset":5149},"end":{"line":132,"column":136,"offset":5152}}}],"position":{"start":{"line":132,"column":131,"offset":5147},"end":{"line":132,"column":138,"offset":5154}}},{"type":"text","value":" i ","position":{"start":{"line":132,"column":138,"offset":5154},"end":{"line":132,"column":141,"offset":5157}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"req","position":{"start":{"line":132,"column":143,"offset":5159},"end":{"line":132,"column":146,"offset":5162}}}],"position":{"start":{"line":132,"column":141,"offset":5157},"end":{"line":132,"column":148,"offset":5164}}},{"type":"text","value":" - obiekty zapytań. Tutaj można dowiedzieć się o nim więcej: ","position":{"start":{"line":132,"column":148,"offset":5164},"end":{"line":132,"column":209,"offset":5225}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/koajs/koa/blob/master/docs/api/context.md"},"children":[{"type":"text","value":"https://github.com/koajs/koa/blob/master/docs/api/context.md","position":{"start":{"line":132,"column":209,"offset":5225},"end":{"line":132,"column":269,"offset":5285}}}],"position":{"start":{"line":132,"column":209,"offset":5225},"end":{"line":132,"column":269,"offset":5285}}},{"type":"text","value":".","position":{"start":{"line":132,"column":269,"offset":5285},"end":{"line":132,"column":270,"offset":5286}}}],"position":{"start":{"line":132,"column":1,"offset":5017},"end":{"line":132,"column":270,"offset":5286}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ctx.body","position":{"start":{"line":134,"column":3,"offset":5290},"end":{"line":134,"column":11,"offset":5298}}}],"position":{"start":{"line":134,"column":1,"offset":5288},"end":{"line":134,"column":13,"offset":5300}}},{"type":"text","value":" (a dokładniej ctx.response.body) to treść która zostanie wysłana do klienta który wykonał zapytanie które spełnia warunki naszego routa.","position":{"start":{"line":134,"column":13,"offset":5300},"end":{"line":134,"column":150,"offset":5437}}}],"position":{"start":{"line":134,"column":1,"offset":5288},"end":{"line":134,"column":150,"offset":5437}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Dzięki za uwagę, Kamil Michna ;)","position":{"start":{"line":136,"column":5,"offset":5443},"end":{"line":136,"column":37,"offset":5475}}}],"position":{"start":{"line":136,"column":1,"offset":5439},"end":{"line":136,"column":37,"offset":5475}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":137,"column":1,"offset":5476}}}}